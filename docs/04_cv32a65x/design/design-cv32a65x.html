<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<meta name="description" content="Design documentation for CVA6">
<title>Design Documentation for CVA6 architecture</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body id="DesignDocument" class="book toc2 toc-left">
<div id="header">
<h1>Design Documentation for CVA6 architecture</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#license">1.1. License</a></li>
<li><a href="#standards-compliance">1.2. Standards Compliance</a></li>
<li><a href="#documentation-framework">1.3. Documentation framework</a></li>
<li><a href="#contributors">1.4. Contributors</a></li>
</ul>
</li>
<li><a href="#subsystem">2. Subsystem</a>
<ul class="sectlevel2">
<li><a href="#global-functionality">2.1. Global functionality</a></li>
<li><a href="#connection-with-other-sub-systems">2.2. Connection with other sub-systems</a></li>
<li><a href="#parameter-configuration">2.3. Parameter configuration</a></li>
<li><a href="#io-ports">2.4. IO ports</a></li>
</ul>
</li>
<li><a href="#functionality">3. Functionality</a>
<ul class="sectlevel2">
<li><a href="#instructions">3.1. Instructions</a></li>
<li><a href="#_isa">3.2. isa</a>
<ul class="sectlevel3">
<li><a href="#_instructions">3.2.1. Instructions</a></li>
<li><a href="#_rv32i_base_integer_instructions">3.2.2. RV32I Base Integer Instructions</a></li>
<li><a href="#_rv32m_multiplication_and_division_instructions">3.2.3. RV32M Multiplication and Division Instructions</a></li>
<li><a href="#_rv32c_compressed_instructions">3.2.4. RV32C Compressed Instructions</a></li>
<li><a href="#_rv32zicsr_control_and_status_register_instructions">3.2.5. RV32Zicsr Control and Status Register Instructions</a></li>
<li><a href="#_rvzifencei_instruction_fetch_fence">3.2.6. RVZifencei Instruction Fetch Fence</a></li>
<li><a href="#_rv32zcb_code_size_reduction_instructions">3.2.7. RV32Zcb Code Size Reduction Instructions</a></li>
<li><a href="#_rvzba_address_generation_instructions">3.2.8. RVZba Address generation instructions</a></li>
<li><a href="#_rvzbb_basic_bit_manipulation">3.2.9. RVZbb Basic bit-manipulation</a></li>
<li><a href="#_rvzbc_carry_less_multiplication">3.2.10. RVZbc Carry-less multiplication</a></li>
<li><a href="#_rvzbs_single_bit_instructions">3.2.11. RVZbs Single bit Instructions</a></li>
</ul>
</li>
<li><a href="#traps-interrupts-exceptions">3.3. Traps, Interrupts, Exceptions</a>
<ul class="sectlevel3">
<li><a href="#raising-traps">3.3.1. Raising Traps</a>
<ul class="sectlevel4">
<li><a href="#configuration-csrs">3.3.1.1. Configuration CSRs</a></li>
<li><a href="#modified-csrs">3.3.1.2. Modified CSRs</a></li>
<li><a href="#supported-exceptions">3.3.1.3. Supported exceptions</a></li>
</ul>
</li>
<li><a href="#trap-return">3.3.2. Trap return</a>
<ul class="sectlevel4">
<li><a href="#configuration-csrs-1">3.3.2.1. Configuration CSRs</a></li>
<li><a href="#modified-csrs-1">3.3.2.2. Modified CSRs</a></li>
</ul>
</li>
<li><a href="#interrupts">3.3.3. Interrupts</a></li>
<li><a href="#wait-for-interrupt">3.3.4. Wait for Interrupt</a></li>
</ul>
</li>
<li><a href="#csrs">3.4. csr</a>
<ul class="sectlevel3">
<li><a href="#_conventions">3.4.1. Conventions</a></li>
<li><a href="#_register_summary">3.4.2. Register Summary</a></li>
<li><a href="#_register_description">3.4.3. Register Description</a>
<ul class="sectlevel4">
<li><a href="#_MSTATUS">3.4.3.1. MSTATUS</a></li>
<li><a href="#_MISA">3.4.3.2. MISA</a></li>
<li><a href="#_MIE">3.4.3.3. MIE</a></li>
<li><a href="#_MTVEC">3.4.3.4. MTVEC</a></li>
<li><a href="#_MSTATUSH">3.4.3.5. MSTATUSH</a></li>
<li><a href="#_MHPMEVENT3-31">3.4.3.6. MHPMEVENT[3-31]</a></li>
<li><a href="#_MSCRATCH">3.4.3.7. MSCRATCH</a></li>
<li><a href="#_MEPC">3.4.3.8. MEPC</a></li>
<li><a href="#_MCAUSE">3.4.3.9. MCAUSE</a></li>
<li><a href="#_MTVAL">3.4.3.10. MTVAL</a></li>
<li><a href="#_MIP">3.4.3.11. MIP</a></li>
<li><a href="#_PMPCFG0-3">3.4.3.12. PMPCFG[0-3]</a></li>
<li><a href="#_PMPADDR0-15">3.4.3.13. PMPADDR[0-15]</a></li>
<li><a href="#_ICACHE">3.4.3.14. ICACHE</a></li>
<li><a href="#_DCACHE">3.4.3.15. DCACHE</a></li>
<li><a href="#_MCYCLE">3.4.3.16. MCYCLE</a></li>
<li><a href="#_MINSTRET">3.4.3.17. MINSTRET</a></li>
<li><a href="#_MHPMCOUNTER3-31">3.4.3.18. MHPMCOUNTER[3-31]</a></li>
<li><a href="#_MCYCLEH">3.4.3.19. MCYCLEH</a></li>
<li><a href="#_MINSTRETH">3.4.3.20. MINSTRETH</a></li>
<li><a href="#_MHPMCOUNTER3-31H">3.4.3.21. MHPMCOUNTER[3-31]H</a></li>
<li><a href="#_MVENDORID">3.4.3.22. MVENDORID</a></li>
<li><a href="#_MARCHID">3.4.3.23. MARCHID</a></li>
<li><a href="#_MIMPID">3.4.3.24. MIMPID</a></li>
<li><a href="#_MHARTID">3.4.3.25. MHARTID</a></li>
<li><a href="#_MCONFIGPTR">3.4.3.26. MCONFIGPTR</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#cva6_axi">3.5. AXI</a>
<ul class="sectlevel3">
<li><a href="#cva6_axi-introduction">3.5.1. Introduction</a>
<ul class="sectlevel4">
<li><a href="#about-the-axi4-protocol">3.5.1.1. About the AXI4 protocol</a></li>
<li><a href="#axi4-and-cva6">3.5.1.2. AXI4 and CVA6</a></li>
</ul>
</li>
<li><a href="#signal-description-section-a2">3.5.2. Signal Description (Section A2)</a>
<ul class="sectlevel4">
<li><a href="#global-signals-section-a2.1">3.5.2.1. Global signals (Section A2.1)</a></li>
<li><a href="#write-address-channel-signals-section-a2.2">3.5.2.2. Write address channel signals (Section A2.2)</a></li>
<li><a href="#write-data-channel-signals-section-a2.3">3.5.2.3. Write data channel signals (Section A2.3)</a></li>
<li><a href="#write-response-channel-signals-section-a2.4">3.5.2.4. Write Response Channel signals (Section A2.4)</a></li>
<li><a href="#read-address-channel-signals-section-a2.5">3.5.2.5. Read address channel signals (Section A2.5)</a></li>
<li><a href="#read-data-channel-signals-section-a2.6">3.5.2.6. Read data channel signals (Section A2.6)</a></li>
</ul>
</li>
<li><a href="#single-interface-requirements-transaction-structure-section-a3.4">3.5.3. Single Interface Requirements: Transaction structure (Section A3.4)</a>
<ul class="sectlevel4">
<li><a href="#address_structure_label">3.5.3.1. Address structure (Section A3.4.1)</a></li>
<li><a href="#data_read_and_write_structure_label">3.5.3.2. Data read and write structure: (Section A3.4.4)</a></li>
<li><a href="#read_and_write_response_structure_label">3.5.3.3. Read and write response structure (Section A3.4.5)</a></li>
</ul>
</li>
<li><a href="#transaction-attributes-memory-types-section-a4">3.5.4. Transaction Attributes: Memory types (Section A4)</a></li>
<li><a href="#transaction_identifiers_label">3.5.5. Transaction Identifiers (Section A5)</a></li>
<li><a href="#axi-ordering-model-section-a6">3.5.6. AXI Ordering Model (Section A6)</a>
<ul class="sectlevel4">
<li><a href="#axi-ordering-model-overview-section-a6.1">3.5.6.1. AXI ordering model overview (Section A6.1)</a></li>
<li><a href="#memory-locations-and-peripheral-regions-section-a6.2">3.5.6.2. Memory locations and Peripheral regions (Section A6.2)</a></li>
<li><a href="#transactions-and-ordering-section-a6.3">3.5.6.3. Transactions and ordering (Section A6.3)</a></li>
<li><a href="#ordered-write-observation-section-a6.8">3.5.6.4. Ordered write observation (Section A6.8)</a></li>
</ul>
</li>
<li><a href="#atomic_transactions_label">3.5.7. Atomic transactions (Section E1.1)</a></li>
<li><a href="#cva6-constraints">3.5.8. CVA6 Constraints</a></li>
</ul>
</li>
<li><a href="#cva6_cvx_interface_coprocessor">3.6. CV-X-IF Interface and Coprocessor</a>
<ul class="sectlevel3">
<li><a href="#cv-x-if-interface-specification">3.6.1. CV-X-IF interface specification</a>
<ul class="sectlevel4">
<li><a href="#description">3.6.1.1. Description</a></li>
<li><a href="#supported-parameters">3.6.1.2. Supported Parameters</a></li>
<li><a href="#cv-x-if-enabling">3.6.1.3. CV-X-IF Enabling</a></li>
<li><a href="#illegal-instruction-decoding">3.6.1.4. Illegal instruction decoding</a></li>
<li><a href="#rs3-support">3.6.1.5. RS3 support</a></li>
<li><a href="#description-of-interface-connections-between-cva6-and-coprocessor">3.6.1.6. Description of interface connections between CVA6 and Coprocessor</a></li>
</ul>
</li>
<li><a href="#coprocessor-recommendations-for-use-with-cva6s-cv-x-if">3.6.2. Coprocessor recommendations for use with CVA6&#8217;s CV-X-IF</a></li>
<li><a href="#how-to-use-cva6-without-cv-x-if-interface">3.6.3. How to use CVA6 without CV-X-IF interface</a></li>
<li><a href="#how-to-design-a-coprocessor-for-the-cv-x-if-interface">3.6.4. How to design a coprocessor for the CV-X-IF interface</a></li>
<li><a href="#how-to-program-a-cv-x-if-coprocessor">3.6.5. How to program a CV-X-IF coprocessor</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#architecture-and-modules">4. Architecture and Modules</a>
<ul class="sectlevel2">
<li><a href="#CV32A6_FRONTEND">4.1. FRONTEND Module</a>
<ul class="sectlevel3">
<li><a href="#frontend-description">4.1.1. Description</a></li>
<li><a href="#frontend-functionality">4.1.2. Functionality</a></li>
<li><a href="#pc-generation-stage">4.1.3. PC Generation stage</a></li>
<li><a href="#fetch-stage">4.1.4. Fetch Stage</a></li>
<li><a href="#submodules">4.1.5. Submodules</a>
<ul class="sectlevel4">
<li><a href="#instr_realign-submodule">4.1.5.1. Instr_realign submodule</a></li>
<li><a href="#instr_queue-submodule">4.1.5.2. Instr_queue submodule</a></li>
<li><a href="#instr_scan-submodule">4.1.5.3. instr_scan submodule</a></li>
<li><a href="#bht-branch-history-table-submodule">4.1.5.4. BHT (Branch History Table) submodule</a></li>
<li><a href="#btb-branch-target-buffer-submodule">4.1.5.5. BTB (Branch Target Buffer) submodule</a></li>
<li><a href="#ras-return-address-stack-submodule">4.1.5.6. RAS (Return Address Stack) submodule</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#CVA6_ID_STAGE">4.2. ID_STAGE Module</a>
<ul class="sectlevel3">
<li><a href="#id_stage-description">4.2.1. Description</a></li>
<li><a href="#id_stage-functionality">4.2.2. Functionality</a></li>
<li><a href="#id_stage-submodules">4.2.3. Submodules</a>
<ul class="sectlevel4">
<li><a href="#compressed_decoder">4.2.3.1. Compressed_decoder</a></li>
<li><a href="#decoder">4.2.3.2. Decoder</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#CVA6_ISSUE_STAGE">4.3. ISSUE_STAGE Module</a>
<ul class="sectlevel3">
<li><a href="#issue_stage-description">4.3.1. Description</a></li>
<li><a href="#issue_stage-functionality">4.3.2. Functionality</a></li>
<li><a href="#issue_stage-submodules">4.3.3. Submodules</a>
<ul class="sectlevel4">
<li><a href="#scoreboard">4.3.3.1. Scoreboard</a></li>
<li><a href="#issue_read_operands">4.3.3.2. Issue_read_operands</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#CVA6_EX_STAGE">4.4. EX_STAGE Module</a>
<ul class="sectlevel3">
<li><a href="#ex_stage-description">4.4.1. Description</a></li>
<li><a href="#ex_stage-functionality">4.4.2. Functionality</a></li>
<li><a href="#ex_stage-submodules">4.4.3. Submodules</a>
<ul class="sectlevel4">
<li><a href="#alu">4.4.3.1. alu</a></li>
<li><a href="#branch_unit">4.4.3.2. branch_unit</a></li>
<li><a href="#csr_buffer">4.4.3.3. CSR_buffer</a></li>
<li><a href="#mult">4.4.3.4. mult</a></li>
<li><a href="#load_store_unit-lsu">4.4.3.5. load_store_unit (LSU)</a></li>
<li><a href="#cvxif_fu">4.4.3.6. CVXIF_fu</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#CVA6_COMMIT_STAGE">4.5. COMMIT_STAGE Module</a>
<ul class="sectlevel3">
<li><a href="#commit_stage-description">4.5.1. Description</a></li>
<li><a href="#commit_stage-functionality">4.5.2. Functionality</a></li>
</ul>
</li>
<li><a href="#CVA6_CONTROLLER">4.6. CONTROLLER Module</a>
<ul class="sectlevel3">
<li><a href="#controller-description">4.6.1. Description</a></li>
<li><a href="#controller-functionality">4.6.2. Functionality</a></li>
</ul>
</li>
<li><a href="#CVA6_CSR_REGFILE">4.7. CSR_REGFILE Module</a>
<ul class="sectlevel3">
<li><a href="#csr_regfile-description">4.7.1. Description</a></li>
<li><a href="#csr_regfile-functionality">4.7.2. Functionality</a></li>
</ul>
</li>
<li><a href="#CVA6_CACHES">4.8. CACHES Module</a>
<ul class="sectlevel3">
<li><a href="#caches-description">4.8.1. Description</a></li>
<li><a href="#caches-functionality">4.8.2. Functionality</a></li>
<li><a href="#caches-submodules">4.8.3. Submodules</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#glossary">5. Glossary</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Editor: <strong>Jean Roch Coulon</strong></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The OpenHW Group uses <a href="https://semver.org/">semantic versioning</a> to
describe the release status of its IP. This document describes the
CV32A65X configuration version of CVA6. This intends to be the first
formal release of CVA6.</p>
</div>
<div class="paragraph">
<p>CVA6 is a 6-stage in-order and single issue processor core which
implements the RISC-V instruction set. CVA6 can be configured as a 32-
or 64-bit core (RV32 or RV64), called CV32A6 or CV64A6.</p>
</div>
<div class="paragraph">
<p>The objective of this document is to provide enough information to allow
the RTL modification (by designers) and the RTL verification (by
verificators). This document is not dedicated to CVA6 users looking for
information to develop software like instructions or registers.</p>
</div>
<div class="paragraph">
<p>The CVA6 architecture is illustrated in the following figure.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/ariane_overview.drawio.png" alt="CVA6 Architecture"></span></p>
</div>
<div class="sect2">
<h3 id="license">1.1. License</h3>
<div class="verseblock">
<pre class="content">Copyright 2022 Thales
Copyright 2018 ETH Zürich and University of Bologna
SPDX-License-Identifier: Apache-2.0 WITH SHL-2.1
Licensed under the Solderpad Hardware License v 2.1 (the “License”); you may not use this file except in compliance with the License, or, at your option, the Apache License version 2.0. You may obtain a copy of the License at <a href="https://solderpad.org/licenses/SHL-2.1/" class="bare">https://solderpad.org/licenses/SHL-2.1/</a>.
Unless required by applicable law or agreed to in writing, any work distributed under the License is distributed on an “AS IS” BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</pre>
</div>
</div>
<div class="sect2">
<h3 id="standards-compliance">1.2. Standards Compliance</h3>
<div class="paragraph">
<p>To ease the reading, the reference to these specifications can be
implicit in the requirements below. For the sake of precision, the
requirements identify the versions of RISC-V extensions from these
specifications.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>[CVA6req]</strong> “CVA6 requirement specification”,
<a href="https://github.com/openhwgroup/cva6/blob/master/docs/specifications/cva6_requirement_specification.rst" class="bare">https://github.com/openhwgroup/cva6/blob/master/docs/specifications/cva6_requirement_specification.rst</a>,
HASH#767c465.</p>
</li>
<li>
<p><strong>[RVunpriv]</strong> “The RISC-V Instruction Set Manual, Volume I: User-Level
ISA, Document Version 20191213”, Editors Andrew Waterman and Krste
Asanović, RISC-V Foundation, December 13, 2019.</p>
</li>
<li>
<p><strong>[RVpriv]</strong> “The RISC-V Instruction Set Manual, Volume II: Privileged
Architecture, Document Version 20211203”, Editors Andrew Waterman, Krste
Asanović and John Hauser, RISC-V Foundation, December 4, 2021.</p>
</li>
<li>
<p><strong>[RVdbg]</strong> “RISC-V External Debug Support, Document Version 0.13.2”,
Editors Tim Newsome and Megan Wachs, RISC-V Foundation, March 22, 2019.</p>
</li>
<li>
<p><strong>[RVcompat]</strong> “RISC-V Architectural Compatibility Test Framework”,
<a href="https://github.com/riscv-non-isa/riscv-arch-test" class="bare">https://github.com/riscv-non-isa/riscv-arch-test</a>.</p>
</li>
<li>
<p><strong>[AXI]</strong> AXI Specification,
<a href="https://developer.arm.com/documentation/ihi0022/hc" class="bare">https://developer.arm.com/documentation/ihi0022/hc</a>.</p>
</li>
<li>
<p><strong>[CV-X-IF]</strong> Placeholder for the CV-X-IF coprocessor interface
currently prepared at OpenHW Group; current version in
<a href="https://docs.openhwgroup.org/projects/openhw-group-core-v-xif/" class="bare">https://docs.openhwgroup.org/projects/openhw-group-core-v-xif/</a>.</p>
</li>
<li>
<p><strong>[OpenPiton]</strong> “OpenPiton Microarchitecture Specification”, Princeton
University,
<a href="https://parallel.princeton.edu/openpiton/docs/micro_arch.pdf" class="bare">https://parallel.princeton.edu/openpiton/docs/micro_arch.pdf</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>CV32A6 is a standards-compliant 32-bit processor fully compliant with
RISC-V specifications: [RVunpriv], [RVpriv] and [RVdbg] and passes
[RVcompat] compatibility tests, as requested by [GEN-10] in [CVA6req].</p>
</div>
</div>
<div class="sect2">
<h3 id="documentation-framework">1.3. Documentation framework</h3>
<div class="paragraph">
<p>The framework of this document is inspired by the Common Criteria. The
Common Criteria for Information Technology Security Evaluation (referred
to as Common Criteria or CC) is an international standard (ISO/IEC
15408) for computer security certification.</p>
</div>
<div class="paragraph">
<p>Description of the framework:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Processor is split into module corresponding to the main modules of
the design</p>
</li>
<li>
<p>Modules can contain several modules</p>
</li>
<li>
<p>Each module is described in a chapter, which contains the following
subchapters: <em>Description</em>, <em>Functionalities</em>, <em>Architecture and
Modules</em> and <em>Registers</em> (if any)</p>
</li>
<li>
<p>The subchapter <em>Description</em> describes the main features of the
submodule, the interconnections between the current module and the
others and the inputs/outputs interface.</p>
</li>
<li>
<p>The subchapter <em>Functionality</em> lists in details the module
functionalities. Please avoid using the RTL signal names to explain the
functionalities.</p>
</li>
<li>
<p>The subchapter <em>Architecture and Modules</em> provides a drawing to
present the module hierarchy, then the functionalities covered by the
module</p>
</li>
<li>
<p>The subchapter <em>Registers</em> specifies the module registers if any</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="contributors">1.4. Contributors</h3>
<div class="verseblock">
<pre class="content">Jean-Roch Coulon - Thales
Ayoub Jalali (<a href="mailto:ayoub.jalali@external.thalesgroup.com">ayoub.jalali@external.thalesgroup.com</a>)
Alae Eddine Ezzejjari (<a href="mailto:alae-eddine.ez-zejjari@external.thalesgroup.com">alae-eddine.ez-zejjari@external.thalesgroup.com</a>)</pre>
</div>
<div class="paragraph">
<p><strong>[TO BE COMPLETED]</strong></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="subsystem">2. Subsystem</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="global-functionality">2.1. Global functionality</h3>
<div class="paragraph">
<p>The CVA6 is a subsystem composed of the modules and protocol interfaces
as illustrated The processor is a Harvard-based modern architecture.
Instructions are issued in-order through the DECODE stage and executed
out-of-order but committed in-order. The processor is Single issue, that
means that at maximum one instruction per cycle can be issued to the
EXECUTE stage.</p>
</div>
<div class="paragraph">
<p>The CVA6 implements a 6-stage pipeline composed of PC Generation,
Instruction Fetch, Instruction Decode, Issue stage, Execute stage and
Commit stage. At least 6 cycles are needed to execute one instruction.</p>
</div>
</div>
<div class="sect2">
<h3 id="connection-with-other-sub-systems">2.2. Connection with other sub-systems</h3>
<div class="paragraph">
<p>The submodule is connected to :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>NOC interconnect provides memory content</p>
</li>
<li>
<p>COPROCESSOR connects through CV-X-IF coprocessor interface protocol</p>
</li>
<li>
<p>TRACER provides support for verification</p>
</li>
<li>
<p>TRAP provides traps inputs</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="parameter-configuration">2.3. Parameter configuration</h3>
<table id="cv32a65x_PARAMETERS" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. cv32a65x parameter configuration</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">description</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">XLEN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">General Purpose Register Size (in bits)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RVA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Atomic RISC-V extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RVB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bit manipulation RISC-V extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RVV</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vector RISC-V extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RVC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compress RISC-V extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RVH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hypervisor RISC-V extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RVZCB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zcb RISC-V extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RVZCMP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zcmp RISC-V extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RVZiCond</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zicond RISC-V extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RVF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Floating Point</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RVD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Floating Point</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">XF16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Non standard 16bits Floating Point extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">XF16ALT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Non standard 16bits Floating Point Alt extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">XF8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Non standard 8bits Floating Point extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">XFVec</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Non standard Vector Floating Point extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PerfCounterEn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Perf counters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MmuPresent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MMU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RVS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supervisor mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RVU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DebugEn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Debug support</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DmBaseAddress</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Base address of the debug module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HaltAddress</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address to jump when halt request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x800</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ExceptionAddress</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address to jump when exception</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x808</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TvalEn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tval Support Enable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NrPMPEntries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMP entries number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMPCfgRstVal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMP CSR configuration reset values</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[0x0, 0x0, 0x0, 0x0,
0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMPAddrRstVal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMP CSR address reset values</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[0x0, 0x0, 0x0, 0x0, 0x0,
0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMPEntryReadOnly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMP CSR read-only bits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NrNonIdempotentRules</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMA non idempotent rules number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NonIdempotentAddrBase</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMA NonIdempotent region base address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[0b0,
0b0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NonIdempotentLength</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMA NonIdempotent region length</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[0b0, 0b0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NrExecuteRegionRules</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMA regions with execute rules number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ExecuteRegionAddrBase</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMA Execute region base address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[0x80000000,
0x10000, 0x0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ExecuteRegionLength</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMA Execute region address base</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[0x40000000,
0x10000, 0x1000]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NrCachedRegionRules</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMA regions with cache rules number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CachedRegionAddrBase</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMA cache region base address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[0x80000000]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CachedRegionLength</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMA cache region rules</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[0x40000000]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CvxifEn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CV-X-IF coprocessor interface enable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NOCType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NOC bus type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">config_pkg::NOC_TYPE_AXI4_ATOP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AxiAddrWidth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AXI address width</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AxiDataWidth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AXI data width</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AxiIdWidth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AXI ID width</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AxiUserWidth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AXI User width</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AxiBurstWriteEn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AXI burst in write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MemTidWidth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TODO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IcacheByteSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction cache size (in bytes)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2048</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IcacheSetAssoc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction cache associativity (number of ways)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IcacheLineWidth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction cache line width</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">128</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DCacheType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">config_pkg::HPDCACHE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DcacheIdWidth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data cache ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DcacheByteSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data cache size (in bytes)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32768</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DcacheSetAssoc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data cache associativity (number of ways)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DcacheLineWidth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data cache line width</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">128</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DataUserEn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User field on data bus enable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WtDcacheWbufDepth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Write-through data cache write buffer depth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FetchUserEn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User field on fetch bus enable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FetchUserWidth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Width of fetch user field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FpgaEn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is FPGA optimization of CV32A6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NrCommitPorts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of commit ports</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NrLoadPipeRegs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load cycle latency number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NrStorePipeRegs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Store cycle latency number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NrScoreboardEntries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scoreboard length</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NrLoadBufEntries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load buffer entry buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MaxOutstandingStores</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum number of outstanding stores</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RASDepth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return address stack depth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BTBEntries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Branch target buffer entries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BHTEntries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Branch history entries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InstrTlbEntries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MMU instruction TLB entries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DataTlbEntries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MMU data TLB entries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UseSharedTlb</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MMU option to use shared TLB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SharedTlbDepth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MMU depth of shared TLB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="io-ports">2.4. IO ports</h3>
<table id="_CVA6_cva6_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. <strong>cva6 module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boot_addr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset boot address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hart_id_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hard ID reflected as CSR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>irq_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Level sensitive (async) interrupts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ipi_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inter-processor (async) interrupt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>time_irq_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timer (async) interrupt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cvxif_req_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CVXIF request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cvxif_req_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cvxif_resp_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CVXIF response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cvxif_resp_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>noc_req_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">noc request, can be AXI or OpenPiton</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">noc_req_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>noc_resp_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">noc response, can be AXI or OpenPiton</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">noc_resp_t</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Due to cv32a65x configuration, some ports are tied to a static value. These ports do not appear in the above table, they are listed below</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">As DebugEn = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>debug_req_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As IsRVFI = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>rvfi_probes_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functionality">3. Functionality</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="instructions">3.1. Instructions</h3>
<div class="paragraph">
<p>The next subchapter lists the extensions implemented in CVA6. By
configuration, we can enable/disable the extensions. CV32A65X supports
the extensions described in the next subchapters. RVZicond, RV32A and
RVZicntr extensions are not supported by CV32A65X.</p>
</div>
</div>
<div class="sect2">
<h3 id="_isa">3.2. isa</h3>
<div class="sect3">
<h4 id="_instructions">3.2.1. Instructions</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Subset Name</th>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">I</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RV32I Base Integer Instructions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the base integer instruction set, also known as the 'RV32I' or 'RV64I' instruction set , depending on the address space size, provides the core functionality required for general-purpose computing .it includes instructions for arithmetic, logical, and control operations, as well as memory accessand manipulation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RV32M Multiplication and Division Instructions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the standard integer multiplication and division instruction extension, which is named “M” and contains instructions that multiply or divide values held in two integer registers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RV32C Compressed Instructions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RVC uses a simple compression scheme that offers shorter 16-bit versions of common 32-bit RISC-V instructions when:    the immediate or address offset is small;    one of the registers is the zero register (x0), the ABI link register (x1), or the ABI stack pointer (x2);    the destination register and the first source register are identical;    the registers used are the 8 most popular ones.The C extension is compatible with all other standard instruction extensions. The C extension allows 16-bit instructions to be freely intermixed with 32-bit instructions, with the latter now able to start on any 16-bit boundary. With the addition of the C extension, JAL and JALR instructions will no longer raise an instruction misaligned exception</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zicsr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RV32Zicsr Control and Status Register Instructions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All CSR instructions atomically read-modify-write a single CSR, whose CSR specifier is encoded in the 12-bit csr field of the instruction held in bits 31–20. The immediate forms use a 5-bit zero-extended immediate encoded in the rs1 field.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zifencei</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RVZifencei Instruction Fetch Fence</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FENCE.I instruction that provides explicit synchronization between writes to instruction memory and instruction fetches on the same hart.Currently, this instruction is the only standard mechanism to ensure that stores visible to a hart will also be visible to it instruction fetches.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zcb</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RV32Zcb Code Size Reduction Instructions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zcb belongs to the group of extensions called RISC-V Code Size Reduction Extension (Zc*). Zc* has become the superset of the Standard C extension adding more 16-bit instructions to the ISA. Zcb includes the 16-bit version of additional Integer (I), Multiply (M), and Bit-Manipulation (Zbb) Instructions. All the Zcb instructions require at least standard C extension support as a prerequisite, along with M and Zbb extensions for the 16-bit version of the respective instructions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zba</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RVZba Address generation instructions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Zba instructions can be used to accelerate the generation of addresses that index into arrays of basic types (halfword, word, doubleword) using both unsigned word-sized and XLEN-sized indices: a shifted index is added to a base address. The shift and add instructions do a left shift of 1, 2, or 3 because these are commonly found in real-world code and because they can be implemented with a minimal amount of additional hardware beyond that of the simple adder. This avoids lengthening the critical path in implementations. While the shift and add instructions are limited to a maximum left shift of 3, the slli instruction (from the base ISA) can be used to perform similar shifts for indexing into arrays of wider elements. The slli.uw added in this extension can be used when the index is to be interpreted as an unsigned word.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RVZbb Basic bit-manipulation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The bit-manipulation (bitmanip) extension collection is comprised of several component extensions to the base RISC-V architecture that are intended to provide some combination of code size reduction, performance improvement, and energy reduction. While the instructions are intended to have general use, some instructions are more useful in some domains than others. Hence, several smaller bitmanip extensions are provided. Each of these smaller extensions is grouped by common function and use case, and each has its own Zb*-extension name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RVZbc Carry-less multiplication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Carry-less multiplication is the multiplication in the polynomial ring over GF(2).clmul produces the lower half of the carry-less product and clmulh produces the upper half of the 2✕XLEN carry-less product.clmulr produces bits 2✕XLEN−2:XLEN-1 of the 2✕XLEN carry-less product.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RVZbs Single bit Instructions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The single-bit instructions provide a mechanism to set, clear, invert, or extract a single bit in a register. The bit is specified by its index.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zicntr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zicntr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No info found yet for extension Zicntr</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_rv32i_base_integer_instructions">3.2.2. RV32I Base Integer Instructions</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Format</th>
<th class="tableblock halign-left valign-top">Pseudocode</th>
<th class="tableblock halign-left valign-top">Invalid_values</th>
<th class="tableblock halign-left valign-top">Exception_raised</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Op Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ADDI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">addi rd, rs1, imm[11:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rs1] + sext(imm[11:0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add sign-extended 12-bit immediate to register rs1, and store the result in register rd.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_Register_Immediate_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ANDI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">andi rd, rs1, imm[11:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rs1] &amp; sext(imm[11:0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">perform bitwise AND on register rs1 and the sign-extended 12-bit immediate and place the result in rd.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_Register_Immediate_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ORI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ori rd, rs1, imm[11:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rs1] | sext(imm[11:0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">perform bitwise OR on register rs1 and the sign-extended 12-bit immediate and place the result in rd.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_Register_Immediate_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">XORI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">xori rd, rs1, imm[11:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rs1] ^ sext(imm[11:0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">perform bitwise XOR on register rs1 and the sign-extended 12-bit immediate and place the result in rd.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_Register_Immediate_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SLTI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">slti rd, rs1, imm[11:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if (x[rs1] &lt; sext(imm[11:0])) x[rd] = 1 else x[rd] = 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">set register rd to 1 if register rs1 is less than the sign extended immediate when both are treated as signed numbers, else 0 is written to rd.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_Register_Immediate_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SLTIU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sltiu rd, rs1, imm[11:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if (x[rs1] &lt;u sext(imm[11:0])) x[rd] = 1 else x[rd] = 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">set register rd to 1 if register rs1 is less than the sign extended immediate when both are treated as unsigned numbers, else 0 is written to rd."</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_Register_Immediate_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SLLI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">slli rd, rs1, imm[4:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rs1] &lt;&lt; imm[4:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logical left shift (zeros are shifted into the lower bits).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_Register_Immediate_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SRLI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">srli rd, rs1, imm[4:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rs1] &gt;&gt; imm[4:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logical right shift (zeros are shifted into the upper bits).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_Register_Immediate_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SRAI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">srai rd, rs1, imm[4:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rs1] &gt;&gt;s imm[4:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">arithmetic right shift (the original sign bit is copied into the vacated upper bits).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_Register_Immediate_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LUI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lui rd, imm[19:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = sext(imm[31:12] &lt;&lt; 12)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">place the immediate value in the top 20 bits of the destination register rd, filling in the lowest 12 bits with zeros.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_Register_Immediate_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AUIPC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">auipc rd, imm[19:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = pc + sext(immediate[31:12] &lt;&lt; 12)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">form a 32-bit offset from the 20-bit immediate, filling in the lowest 12 bits with zeros, adds this offset to the pc, then place the result in register rd.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_Register_Immediate_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ADD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rs1] + x[rs2]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add rs2 to register rs1, and store the result in register rd.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_Register_Register_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sub rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rs1] - x[rs2]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">subtract rs2 from register rs1, and store the result in register rd.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_Register_Register_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">and rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rs1] &amp; x[rs2]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">perform bitwise AND on register rs1 and rs2 and place the result in rd.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_Register_Register_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">or rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rs1] | x[rs2]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">perform bitwise OR on register rs1 and rs2 and place the result in rd.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_Register_Register_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">XOR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">xor rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rs1] ^ x[rs2]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">perform bitwise XOR on register rs1 and rs2 and place the result in rd.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_Register_Register_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SLT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">slt rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if (x[rs1] &lt; x[rs2]) x[rd] = 1 else x[rd] = 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">set register rd to 1 if register rs1 is less than rs2 when both are treated as signed numbers, else 0 is written to rd.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_Register_Register_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SLTU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sltu rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if (x[rs1] &lt;u x[rs2]) x[rd] = 1 else x[rd] = 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">set register rd to 1 if register rs1 is less than rs2 when both are treated as unsigned numbers, else 0 is written to rd.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_Register_Register_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SLL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sll rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rs1] &lt;&lt; x[rs2]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logical left shift (zeros are shifted into the lower bits).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_Register_Register_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SRL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">srl rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rs1] &gt;&gt; x[rs2]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logical right shift (zeros are shifted into the upper bits).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_Register_Register_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SRA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sra rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rs1] &gt;&gt;s x[rs2]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">arithmetic right shift (the original sign bit is copied into the vacated upper bits).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_Register_Register_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JAL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jal rd, imm[20:1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = pc+4; pc += sext(imm[20:1])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jumps to an unaligned address (4-byte or 2-byte boundary) will usually raise an exception.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">offset is sign-extended and added to the pc to form the jump target address (pc is calculated using signed arithmetic), then setting the least-significant bit of the result to zero, and store the address of instruction following the jump (pc+4) into register rd.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control_Transfer_Operations-Unconditional_Jumps</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JALR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jalr rd, rs1, imm[11:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">t = pc+4; pc = (x[rs1]+sext(imm[11:0]))&amp;∼1 ; x[rd] = t</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jumps to an unaligned address (4-byte or 2-byte boundary) will usually raise an exception.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">target address is obtained by adding the 12-bit signed immediate to the register rs1 (pc is calculated using signed arithmetic), then setting the least-significant bit of the result to zero, and store the address of instruction following the jump (pc+4) into register rd.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control_Transfer_Operations-Unconditional_Jumps</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BEQ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">beq rs1, rs2, imm[12:1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if (x[rs1] == x[rs2]) pc += sext({imm[12:1], 1’b0}) else pc += 4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no instruction fetch misaligned exception is generated for a conditional branch that is not taken. An Instruction address misaligned exception is raised if the target address is not aligned on 4-byte or 2-byte boundary, because the core supports compressed instructions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">takes the branch (pc is calculated using signed arithmetic) if registers rs1 and rs2 are equal.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control_Transfer_Operations-Conditional_Branches</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BNE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bne rs1, rs2, imm[12:1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if (x[rs1] != x[rs2]) pc += sext({imm[12:1], 1’b0}) else pc += 4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no instruction fetch misaligned exception is generated for a conditional branch that is not taken. An Instruction address misaligned exception is raised if the target address is not aligned on 4-byte or 2-byte boundary, because the core supports compressed instructions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">takes the branch (pc is calculated using signed arithmetic) if registers rs1 and rs2 are not equal.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control_Transfer_Operations-Conditional_Branches</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BLT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">blt rs1, rs2, imm[12:1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if (x[rs1] &lt; x[rs2]) pc += sext({imm[12:1], 1’b0}) else pc += 4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no instruction fetch misaligned exception is generated for a conditional branch that is not taken. An Instruction address misaligned exception is raised if the target address is not aligned on 4-byte or 2-byte boundary, because the core supports compressed instructions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">takes the branch (pc is calculated using signed arithmetic) if registers rs1 less than rs2 (using signed comparison).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control_Transfer_Operations-Conditional_Branches</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BLTU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bltu rs1, rs2, imm[12:1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if (x[rs1] &lt;u x[rs2]) pc += sext({imm[12:1], 1’b0}) else pc += 4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no instruction fetch misaligned exception is generated for a conditional branch that is not taken. An Instruction address misaligned exception is raised if the target address is not aligned on 4-byte or 2-byte boundary, because the core supports compressed instructions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">takes the branch (pc is calculated using signed arithmetic) if registers rs1 less than rs2 (using unsigned comparison).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control_Transfer_Operations-Conditional_Branches</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bge rs1, rs2, imm[12:1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if (x[rs1] &gt;= x[rs2]) pc += sext({imm[12:1], 1’b0}) else pc += 4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no instruction fetch misaligned exception is generated for a conditional branch that is not taken. An Instruction address misaligned exception is raised if the target address is not aligned on 4-byte or 2-byte boundary, because the core supports compressed instructions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">takes the branch (pc is calculated using signed arithmetic) if registers rs1 is greater than or equal rs2 (using signed comparison).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control_Transfer_Operations-Conditional_Branches</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BGEU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bgeu rs1, rs2, imm[12:1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if (x[rs1] &gt;=u x[rs2]) pc += sext({imm[12:1], 1’b0}) else pc += 4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no instruction fetch misaligned exception is generated for a conditional branch that is not taken. An Instruction address misaligned exception is raised if the target address is not aligned on 4-byte or 2-byte boundary, because the core supports compressed instructions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">takes the branch (pc is calculated using signed arithmetic) if registers rs1 is greater than or equal rs2 (using unsigned comparison).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control_Transfer_Operations-Conditional_Branches</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lb rd, imm(rs1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = sext(M[x[rs1] + sext(imm[11:0])][7:0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">loads with a destination of x0 must still raise any exceptions and action any other side effects even though the load value is discarded.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">loads a 8-bit value from memory, then sign-extends to 32-bit before storing in rd (rd is calculated using signed arithmetic), the effective address is obtained by adding register rs1 to the sign-extended 12-bit offset.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load_and_Store_Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lh rd, imm(rs1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = sext(M[x[rs1] + sext(imm[11:0])][15:0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">loads with a destination of x0 must still raise any exceptions and action any other side effects even though the load value is discarded, also an exception is raised if the memory address isn&#8217;t aligned (2-byte boundary).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">loads a 16-bit value from memory, then sign-extends to 32-bit before storing in rd (rd is calculated using signed arithmetic), the effective address is obtained by adding register rs1 to the sign-extended 12-bit offset.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load_and_Store_Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lw rd, imm(rs1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = sext(M[x[rs1] + sext(imm[11:0])][31:0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">loads with a destination of x0 must still raise any exceptions and action any other side effects even though the load value is discarded, also an exception is raised if the memory address isn&#8217;t aligned (4-byte boundary).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">loads a 32-bit value from memory, then storing in rd (rd is calculated using signed arithmetic). The effective address is obtained by adding register rs1 to the sign-extended 12-bit offset.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load_and_Store_Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LBU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lbu rd, imm(rs1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = zext(M[x[rs1] + sext(imm[11:0])][7:0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">loads with a destination of x0 must still raise any exceptions and action any other side effects even though the load value is discarded.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">loads a 8-bit value from memory, then zero-extends to 32-bit before storing in rd (rd is calculated using unsigned arithmetic), the effective address is obtained by adding register rs1 to the sign-extended 12-bit offset.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load_and_Store_Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LHU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lhu rd, imm(rs1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = zext(M[x[rs1] + sext(imm[11:0])][15:0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">loads with a destination of x0 must still raise any exceptions and action any other side effects even though the load value is discarded, also an exception is raised if the memory address isn&#8217;t aligned (2-byte boundary).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">loads a 16-bit value from memory, then zero-extends to 32-bit before storing in rd (rd is calculated using unsigned arithmetic), the effective address is obtained by adding register rs1 to the sign-extended 12-bit offset.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load_and_Store_Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sb rs2, imm(rs1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M[x[rs1] + sext(imm[11:0])][7:0] = x[rs2][7:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">stores a 8-bit value from the low bits of register rs2 to memory, the effective address is obtained by adding register rs1 to the sign-extended 12-bit offset.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load_and_Store_Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sh rs2, imm(rs1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M[x[rs1] + sext(imm[11:0])][15:0] = x[rs2][15:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an exception is raised if the memory address isn&#8217;t aligned (2-byte boundary).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">stores a 16-bit value from the low bits of register rs2 to memory, the effective address is obtained by adding register rs1 to the sign-extended 12-bit offset.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load_and_Store_Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sw rs2, imm(rs1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M[x[rs1] + sext(imm[11:0])][31:0] = x[rs2][31:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an exception is raised if the memory address isn&#8217;t aligned (4-byte boundary).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">stores a 32-bit value from register rs2 to memory, the effective address is obtained by adding register rs1 to the sign-extended 12-bit offset.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load_and_Store_Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FENCE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fence pre, succ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No operation (nop)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">order device I/O and memory accesses as viewed by other RISC-V harts and external devices or coprocessors. Any combination of device input (I), device output (O), memory reads &#174;, and memory writes (W) may be ordered with respect to any combination of the same. Informally, no other RISC-V hart or external device can observe any operation in the successor set following a FENCE before any operation in the predecessor set preceding the FENCE, as the core support 1 hart, the fence instruction has no effect so we can considerate it as a nop instruction.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Memory_Ordering</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ECALL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ecall</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RaiseException(EnvironmentCall)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Raise an Environment Call exception.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">make a request to the supporting execution environment, which is usually an operating system. The ABI for the system will define how parameters for the environment request are passed, but usually these will be in defined locations in the integer register file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Environment_Call_and_Breakpoints</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EBREAK</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ebreak</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[8 + rd'] = sext(x[8 + rd'][7:0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction takes a single source/destination operand. It sign-extends the least-significant byte in the operand by copying the most-significant bit in the byte (i.e., bit 7) to all of the more-significant bits. It also requires Bit-Manipulation (Zbb) extension support.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Environment_Call_and_Breakpoints</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_rv32m_multiplication_and_division_instructions">3.2.3. RV32M Multiplication and Division Instructions</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Format</th>
<th class="tableblock halign-left valign-top">Pseudocode</th>
<th class="tableblock halign-left valign-top">Invalid_values</th>
<th class="tableblock halign-left valign-top">Exception_raised</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Op Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MUL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mul rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rs1] * x[rs2]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">performs a 32-bit × 32-bit multiplication and places the lower 32 bits in the destination register (Both rs1 and rs2 treated as signed numbers).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiplication Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MULH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mulh rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = (x[rs1] s*s x[rs2]) &gt;&gt;s 32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">performs a 32-bit × 32-bit multiplication and places the upper 32 bits in the destination register of the 64-bit product (Both rs1 and rs2 treated as signed numbers).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiplication Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MULHU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mulhu rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = (x[rs1] u*u x[rs2]) &gt;&gt;u 32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">performs a 32-bit × 32-bit multiplication and places the upper 32 bits in the destination register of the 64-bit product (Both rs1 and rs2 treated as unsigned numbers).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiplication Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MULHSU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mulhsu rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = (x[rs1] s*u x[rs2]) &gt;&gt;s 32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">performs a 32-bit × 32-bit multiplication and places the upper 32 bits in the destination register of the 64-bit product (rs1 treated as signed number, rs2 treated as unsigned number).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiplication Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DIV</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">div rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rs1] /s x[rs2]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">perform signed integer division of 32 bits by 32 bits (rounding towards zero).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Division Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DIVU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">divu rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rs1] /u x[rs2]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">perform unsigned integer division of 32 bits by 32 bits (rounding towards zero).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Division Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">REM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rem rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rs1] %s x[rs2]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">provide the remainder of the corresponding division operation DIV (the sign of rd equals the sign of rs1).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Division Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">REMU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rem rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rs1] %u x[rs2]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">provide the remainder of the corresponding division operation DIVU.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Division Operations</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_rv32c_compressed_instructions">3.2.4. RV32C Compressed Instructions</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Format</th>
<th class="tableblock halign-left valign-top">Pseudocode</th>
<th class="tableblock halign-left valign-top">Invalid_values</th>
<th class="tableblock halign-left valign-top">Exception_raised</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Op Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.li rd, imm[5:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = sext(imm[5:0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd = x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">loads the sign-extended 6-bit immediate, imm, into register rd.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer Computational Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LUI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.lui rd, nzimm[17:12]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = sext(nzimm[17:12] &lt;&lt; 12)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd = x0 &amp; rd = x2 &amp; nzimm = 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">loads the non-zero 6-bit immediate field into bits 17–12 of the destination register, clears the bottom 12 bits, and sign-extends bit 17 into all higher bits of the destination.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer Computational Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.ADDI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.addi rd, nzimm[5:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rd] + sext(nzimm[5:0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd = x0 &amp; nzimm = 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">adds the non-zero sign-extended 6-bit immediate to the value in register rd then writes the result to rd.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer Computational Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.ADDI16SP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.addi16sp nzimm[9:4]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[2] = x[2] + sext(nzimm[9:4])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd != x2 &amp; nzimm = 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">adds the non-zero sign-extended 6-bit immediate to the value in the stack pointer (sp=x2), where the immediate is scaled to represent multiples of 16 in the range (-512,496). C.ADDI16SP is used to adjust the stack pointer in procedure prologues and epilogues. C.ADDI16SP shares the opcode with C.LUI, but has a destination field of x2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer Computational Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.ADDI4SPN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.addi4spn rd', nzimm[9:2]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[8 + rd'] = x[2] + zext(nzimm[9:2])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nzimm = 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">adds a zero-extended non-zero immediate, scaled by 4, to the stack pointer, x2, and writes the result to rd'. This instruction is used to generate pointers to stack-allocated variables.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer Computational Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SLLI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.slli rd, uimm[5:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rd] &lt;&lt; uimm[5:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd = x0 &amp; uimm[5] = 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">performs a logical left shift (zeros are shifted into the lower bits).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer Computational Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SRLI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.srli rd', uimm[5:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[8 + rd'] = x[8 + rd'] &gt;&gt; uimm[5:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">uimm[5] = 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">performs a logical right shift (zeros are shifted into the upper bits).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer Computational Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SRAI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.srai rd', uimm[5:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[8 + rd'] = x[8 + rd'] &gt;&gt;s uimm[5:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">uimm[5] = 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">performs an arithmetic right shift (sign bits are shifted into the upper bits).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer Computational Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.ANDI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.andi rd', imm[5:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[8 + rd'] = x[8 + rd'] &amp; sext(imm[5:0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">computes the bitwise AND of the value in register rd', and the sign-extended 6-bit immediate, then writes the result to rd'.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer Computational Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.ADD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.add rd, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rd] + x[rs2]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd = x0 &amp; rs2 = x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">adds the values in registers rd and rs2 and writes the result to register rd.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer Computational Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.MV</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.mv rd, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = x[rs2]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd = x0 &amp; rs2 = x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">copies the value in register rs2 into register rd.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer Computational Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.AND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.and rd', rs2'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[8 + rd'] = x[8 + rd'] &amp; x[8 + rs2']</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">computes the bitwise AND of of the value in register rd', and register rs2', then writes the result to rd'.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer Computational Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.OR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.or rd', rs2'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[8 + rd'] = x[8 + rd'] | x[8 + rs2']</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">computes the bitwise OR of of the value in register rd', and register rs2', then writes the result to rd'.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer Computational Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.XOR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.and rd', rs2'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[8 + rd'] = x[8 + rd'] ^ x[8 + rs2']</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">computes the bitwise XOR of of the value in register rd', and register rs2', then writes the result to rd'.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer Computational Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SUB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.sub rd', rs2'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[8 + rd'] = x[8 + rd'] - x[8 + rs2']</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">subtracts the value in registers rs2' from value in rd' and writes the result to register rd'.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer Computational Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.EBREAK</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.ebreak</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RaiseException(Breakpoint)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Raise a Breakpoint exception.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cause control to be transferred back to the debugging environment.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer Computational Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.J</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.j imm[11:1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pc += sext(imm[11:1])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jumps to an unaligned address (4-byte or 2-byte boundary) will usually raise an exception.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">performs an unconditional control transfer. The offset is sign-extended and added to the pc to form the jump target address.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control Transfer Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.JAL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.jal imm[11:1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[1] = pc+2; pc += sext(imm[11:1])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jumps to an unaligned address (4-byte or 2-byte boundary) will usually raise an exception.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">performs the same operation as C.J, but additionally writes the address of the instruction following the jump (pc+2) to the link register, x1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control Transfer Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.JR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.jr rs1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pc = x[rs1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs1 = x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jumps to an unaligned address (4-byte or 2-byte boundary) will usually raise an exception.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">performs an unconditional control transfer to the address in register rs1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control Transfer Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.JALR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.jalr rs1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">t = pc+2; pc = x[rs1]; x[1] = t</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs1 = x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jumps to an unaligned address (4-byte or 2-byte boundary) will usually raise an exception.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">performs the same operation as C.JR, but additionally writes the address of the instruction following the jump (pc+2) to the link register, x1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control Transfer Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.BEQZ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.beqz rs1', imm[8:1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if (x[8+rs1'] == 0) pc += sext(imm[8:1])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no instruction fetch misaligned exception is generated for a conditional branch that is not taken. An Instruction address misaligned exception is raised if the target address is not aligned on 4-byte or 2-byte boundary, because the core supports compressed instructions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">performs conditional control transfers. The offset is sign-extended and added to the pc to form the branch target address. C.BEQZ takes the branch if the value in register rs1' is zero.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control Transfer Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.BNEZ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.bnez rs1', imm[8:1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if (x[8+rs1'] != 0) pc += sext(imm[8:1])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no instruction fetch misaligned exception is generated for a conditional branch that is not taken. An Instruction address misaligned exception is raised if the target address is not aligned on 4-byte or 2-byte boundary, because the core supports compressed instructions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">performs conditional control transfers. The offset is sign-extended and added to the pc to form the branch target address. C.BEQZ takes the branch if the value in register rs1' isn&#8217;t zero.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control Transfer Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LWSP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.lwsp rd, uimm(x2)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = M[x[2] + zext(uimm[7:2])][31:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd = x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">loads with a destination of x0 must still raise any exceptions, also an exception if the memory address isn&#8217;t aligned (4-byte boundary).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">loads a 32-bit value from memory into register rd. It computes an effective address by adding the zero-extended offset, scaled by 4, to the stack pointer, x2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load and Store Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SWSP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.swsp rd, uimm(x2)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M[x[2] + zext(uimm[7:2])][31:0] = x[rs2]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an exception raised if the memory address isn&#8217;t aligned (4-byte boundary).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">stores a 32-bit value in register rs2 to memory. It computes an effective address by adding the zero-extended offset, scaled by 4, to the stack pointer, x2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load and Store Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.lw rd', uimm(rs1')</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[8+rd'] = M[x[8+rs1'] + zext(uimm[6:2])][31:0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an exception raised if the memory address isn&#8217;t aligned (4-byte boundary).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">loads a 32-bit value from memory into register rd'. It computes an effective address by adding the zero-extended offset, scaled by 4, to the base address in register rs1'.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load and Store Instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.sw rs2', uimm(rs1')</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M[x[8+rs1'] + zext(uimm[6:2])][31:0] = x[8+rs2']</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an exception raised if the memory address isn&#8217;t aligned (4-byte boundary).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">stores a 32-bit value from memory into register rd'. It computes an effective address by adding the zero-extended offset, scaled by 4, to the base address in register rs1'.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load and Store Instructions</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_rv32zicsr_control_and_status_register_instructions">3.2.5. RV32Zicsr Control and Status Register Instructions</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Format</th>
<th class="tableblock halign-left valign-top">Pseudocode</th>
<th class="tableblock halign-left valign-top">Invalid_values</th>
<th class="tableblock halign-left valign-top">Exception_raised</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Op Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSRRW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">csrrw rd, csr, rs1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">t = CSRs[csr]; CSRs[csr] = x[rs1]; x[rd] = t</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attempts to access a non-existent CSR raise an illegal instruction exception. Attempts to access a CSR without appropriate privilege level or to write a read-only register also raise illegal instruction exceptions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reads the old value of the CSR, zero-extends the value to 32 bits, then writes it to integer register rd. The initial value in rs1 is written to the CSR. If rd=x0, then the instruction shall not read the CSR and shall not cause any of the side-effects that might occur on a CSR read.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control and Status Register Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSRRS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">csrrs rd, csr, rs1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">t = CSRs[csr]; CSRs[csr] = t | x[rs1]; x[rd] = t</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attempts to access a non-existent CSR raise an illegal instruction exception. Attempts to access a CSR without appropriate privilege level or to write a read-only register also raise illegal instruction exceptions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reads the value of the CSR, zero-extends the value to 32 bits, and writes it to integer register rd. The initial value in integer register rs1 is treated as a bit mask that specifies bit positions to be set in the CSR. Any bit that is high in rs1 will cause the corresponding bit to be set in the CSR, if that CSR bit is writable. Other bits in the CSR are unaffected (though CSRs might have side effects when written). If rs1=x0, then the instruction will not write to the CSR at all, and so shall not cause any of the side effects that might otherwise occur on a CSR write, such as raising illegal instruction exceptions on accesses to read-only CSRs.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control and Status Register Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSRRC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">csrrc rd, csr, rs1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">t = CSRs[csr]; CSRs[csr] = t &amp; ∼x[rs1]; x[rd] = t</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attempts to access a non-existent CSR raise an illegal instruction exception. Attempts to access a CSR without appropriate privilege level or to write a read-only register also raise illegal instruction exceptions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reads the value of the CSR, zero-extends the value to 32 bits, and writes it to integer register rd. The initial value in integer register rs1 is treated as a bit mask that specifies bit positions to be cleared in the CSR. Any bit that is high in rs1 will cause the corresponding bit to be set in the CSR, if that CSR bit is writable. Other bits in the CSR are unaffected (though CSRs might have side effects when written). If rs1=x0, then the instruction will not write to the CSR at all, and so shall not cause any of the side effects that might otherwise occur on a CSR write, such as raising illegal instruction exceptions on accesses to read-only CSRs.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control and Status Register Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSRRWI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">csrrwi rd, csr, uimm[4:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[rd] = CSRs[csr]; CSRs[csr] = zext(uimm[4:0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attempts to access a non-existent CSR raise an illegal instruction exception. Attempts to access a CSR without appropriate privilege level or to write a read-only register also raise illegal instruction exceptions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reads the old value of the CSR, zero-extends the value to 32 bits, then writes it to integer register rd. The zero-extends immediate is written to the CSR. If rd=x0, then the instruction shall not read the CSR and shall not cause any of the side-effects that might occur on a CSR read.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control and Status Register Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSRRSI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">csrrsi rd, csr, uimm[4:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">t = CSRs[csr]; CSRs[csr] = t | zext(uimm[4:0]); x[rd] = t</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attempts to access a non-existent CSR raise an illegal instruction exception. Attempts to access a CSR without appropriate privilege level or to write a read-only register also raise illegal instruction exceptions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reads the value of the CSR, zero-extends the value to 32 bits, and writes it to integer register rd. The zero-extends immediate value is treated as a bit mask that specifies bit positions to be set in the CSR. Any bit that is high in zero-extends immediate will cause the corresponding bit to be set in the CSR, if that CSR bit is writable. Other bits in the CSR are unaffected (though CSRs might have side effects when written). If the uimm[4:0] field is zero, then these instructions will not write to the CSR, and shall not cause any of the side effects that might otherwise occur on a CSR write.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control and Status Register Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSRRCI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">csrrci rd, csr, uimm[4:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">t = CSRs[csr]; CSRs[csr] = t &amp; ∼zext(uimm[4:0]); x[rd] = t</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attempts to access a non-existent CSR raise an illegal instruction exception. Attempts to access a CSR without appropriate privilege level or to write a read-only register also raise illegal instruction exceptions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reads the value of the CSR, zero-extends the value to 32 bits, and writes it to integer register rd. The zero-extends immediate value is treated as a bit mask that specifies bit positions to be cleared in the CSR. Any bit that is high in zero-extends immediate will cause the corresponding bit to be set in the CSR, if that CSR bit is writable. Other bits in the CSR are unaffected (though CSRs might have side effects when written). If the uimm[4:0] field is zero, then these instructions will not write to the CSR, and shall not cause any of the side effects that might otherwise occur on a CSR write.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control and Status Register Operations</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_rvzifencei_instruction_fetch_fence">3.2.6. RVZifencei Instruction Fetch Fence</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Format</th>
<th class="tableblock halign-left valign-top">Pseudocode</th>
<th class="tableblock halign-left valign-top">Invalid_values</th>
<th class="tableblock halign-left valign-top">Exception_raised</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Op Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FENCE.I</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fence.i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fence(Store, Fetch)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The FENCE.I instruction is used to synchronize the instruction and data streams. RISC-V does not guarantee that stores to instruction memory will be made visible to instruction fetches on the same RISC-V hart until a FENCE.I instruction is executed. A FENCE.I instruction only ensures that a subsequent instruction fetch on a RISC-V hart will see any previous data stores already visible to the same RISC-V hart.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fetch Fence Operations</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_rv32zcb_code_size_reduction_instructions">3.2.7. RV32Zcb Code Size Reduction Instructions</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Format</th>
<th class="tableblock halign-left valign-top">Pseudocode</th>
<th class="tableblock halign-left valign-top">Invalid_values</th>
<th class="tableblock halign-left valign-top">Exception_raised</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Op Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.ZEXT.B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.zext.b rd'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[8 + rd'] = zext(x[8 + rd'][7:0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction takes a single source/destination operand. It zero-extends the least-significant byte of the operand by inserting zeros into all of the bits more significant than 7.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Code Size Reduction Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SEXT.B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.sext.b rd'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[8 + rd'] = sext(x[8 + rd'][7:0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction takes a single source/destination operand. It sign-extends the least-significant byte in the operand by copying the most-significant bit in the byte (i.e., bit 7) to all of the more-significant bits. It also requires Bit-Manipulation (Zbb) extension support.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Code Size Reduction Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.ZEXT.H</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.zext.h rd'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[8 + rd'] = zext(x[8 + rd'][15:0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction takes a single source/destination operand. It zero-extends the least-significant halfword of the operand by inserting zeros into all of the bits more significant than 15. It also requires Bit-Manipulation (Zbb) extension support.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Code Size Reduction Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SEXT.H</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.sext.h rd'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[8 + rd'] = sext(x[8 + rd'][15:0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction takes a single source/destination operand. It sign-extends the least-significant halfword in the operand by copying the most-significant bit in the halfword (i.e., bit 15) to all of the more-significant bits. It also requires Bit-Manipulation (Zbb) extension support.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Code Size Reduction Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.NOT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.not rd'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[8 + rd'] = x[8 + rd'] ^ -1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction takes the one’s complement of rd'/rs1' and writes the result to the same register.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Code Size Reduction Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.MUL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.mul rd', rs2'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[8 + rd'] = (x[8 + rd'] * x[8 + rs2'])[31:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">performs a 32-bit × 32-bit multiplication and places the lower 32 bits in the destination register (Both rd' and rs2' treated as signed numbers). It also requires M extension support.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Code Size Reduction Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LHU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.lhu rd', uimm(rs1')</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[8+rd'] = zext(M[x[8+rs1'] + zext(uimm[1])][15:0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an exception raised if the memory address isn&#8217;t aligned (2-byte boundary).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction loads a halfword from the memory address formed by adding rs1' to the zero extended immediate uimm. The resulting halfword is zero extended and is written to rd'.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Code Size Reduction Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.lh rd', uimm(rs1')</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[8+rd'] = sext(M[x[8+rs1'] + zext(uimm[1])][15:0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an exception raised if the memory address isn&#8217;t aligned (2-byte boundary).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction loads a halfword from the memory address formed by adding rs1' to the zero extended immediate uimm. The resulting halfword is sign extended and is written to rd'.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Code Size Reduction Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LBU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.lbu rd', uimm(rs1')</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x[8+rd'] = zext(M[x[8+rs1'] + zext(uimm[1:0])][7:0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction loads a byte from the memory address formed by adding rs1' to the zero extended immediate uimm. The resulting byte is zero extended and is written to rd'.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Code Size Reduction Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.sh rs2', uimm(rs1')</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M[x[8+rs1'] + zext(uimm[1])][15:0] = x[8+rs2']</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an exception raised if the memory address isn&#8217;t aligned (2-byte boundary).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction stores the least significant halfword of rs2' to the memory address formed by adding rs1' to the zero extended immediate uimm.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Code Size Reduction Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c.sb rs2', uimm(rs1')</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M[x[8+rs1'] + zext(uimm[1:0])][7:0] = x[8+rs2']</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction stores the least significant byte of rs2' to the memory address formed by adding rs1' to the zero extended immediate uimm.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Code Size Reduction Operations</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_rvzba_address_generation_instructions">3.2.8. RVZba Address generation instructions</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Format</th>
<th class="tableblock halign-left valign-top">Pseudocode</th>
<th class="tableblock halign-left valign-top">Invalid_values</th>
<th class="tableblock halign-left valign-top">Exception_raised</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Op Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ADD.UW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add.uw rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X(rd) = rs2 + EXTZ(X(rs1)[31..0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction performs an XLEN-wide addition between rs2 and the zero-extended least-significant word of rs1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address generation instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SH1ADD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sh1add rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X(rd) = X(rs2) + (X(rs1) &lt;&lt; 1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction shifts rs1 to the left by 1 bit and adds it to rs2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address generation instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SH1ADD.UW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sh1add.uw rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X(rd) = rs2 + (EXTZ(X(rs1)[31..0]) &lt;&lt; 1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction performs an XLEN-wide addition of two addends. The first addend is rs2. The second addend is the unsigned value formed by extracting the least-significant word of rs1 and shifting it left by 1 place.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address generation instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SH2ADD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sh2add rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X(rd) = X(rs2) + (X(rs1) &lt;&lt; 2)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction shifts rs1 to the left by 2 bit and adds it to rs2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address generation instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SH2ADD.UW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sh2add.uw rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X(rd) = rs2 + (EXTZ(X(rs1)[31..0]) &lt;&lt; 2)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction performs an XLEN-wide addition of two addends. The first addend is rs2. The second addend is the unsigned value formed by extracting the least-significant word of rs1 and shifting it left by 2 places.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address generation instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SH3ADD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sh3add rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X(rd) = X(rs2) + (X(rs1) &lt;&lt; 3)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction shifts rs1 to the left by 3 bit and adds it to rs2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address generation instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SH3ADD.UW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sh3add.uw rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X(rd) = rs2 + (EXTZ(X(rs1)[31..0]) &lt;&lt; 3)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction performs an XLEN-wide addition of two addends. The first addend is rs2. The second addend is the unsigned value formed by extracting the least-significant word of rs1 and shifting it left by 3 places.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address generation instructions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SLLI.UW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">slli.uw rd, rs1, imm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X(rd) = (EXTZ(X(rs)[31..0]) &lt;&lt; imm)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction takes the least-significant word of rs1, zero-extends it, and shifts it left by the immediate.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address generation instructions</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_rvzbb_basic_bit_manipulation">3.2.9. RVZbb Basic bit-manipulation</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Format</th>
<th class="tableblock halign-left valign-top">Pseudocode</th>
<th class="tableblock halign-left valign-top">Invalid_values</th>
<th class="tableblock halign-left valign-top">Exception_raised</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Op Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ANDN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">andn rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X(rd) = X(rs1) &amp; ~X(rs2)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performs bitwise AND operation between rs1 and bitwise inversion of rs2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logical_with_negate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ORN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">orn rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X(rd) = X(rs1) | ~X(rs2)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performs bitwise OR operation between rs1 and bitwise inversion of rs2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logical_with_negate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">XNOR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">xnor rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X(rd) = ~(X(rs1) ^ X(rs2))</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performs bitwise XOR operation between rs1 and rs2, then complements the result.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logical_with_negate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CLZ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clz rd, rs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if [x[i]] == 1 then return(i) else return -1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counts leading zero bits in rs.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Count_leading_trailing_zero_bits</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CTZ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ctz rd, rs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if [x[i]] == 1 then return(i) else return xlen;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counts trailing zero bits in rs.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Count_leading_trailing_zero_bits</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CLZW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clzw rd, rs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if [x[i]] == 1 then return(i) else return -1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counts leading zero bits in the least-significant word of rs.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Count_leading_trailing_zero_bits</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CTZW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ctzw rd, rs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if [x[i]] == 1 then return(i) else return 32;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counts trailing zero bits in the least-significant word of rs.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Count_leading_trailing_zero_bits</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CPOP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cpop rd, rs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if rs[i] == 1 then bitcount = bitcount + 1 else ()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counts set bits in rs.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Count_population</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CPOPW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cpopw rd, rs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if rs[i] == 0b1 then bitcount = bitcount + 1 else ()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counts set bits in the least-significant word of rs.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Count_population</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MAX</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">max rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if rs1_val &lt;_s rs2_val then rs2_val else rs1_val</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the larger of two signed integers.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_minimum_maximum</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MAXU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">maxu rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if rs1_val &lt;_u rs2_val then rs2_val else rs1_val</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the larger of two unsigned integers.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_minimum_maximum</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if rs1_val &lt;_s rs2_val then rs1_val else rs2_val</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the smaller of two signed integers.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_minimum_maximum</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MINU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">minu rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if rs1_val &lt;_u rs2_val then rs1_val else rs2_val</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the smaller of two unsigned integers.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer_minimum_maximum</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SEXT.B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sext.b rd, rs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X(rd) = EXTS(X(rs)[7..0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sign-extends the least-significant byte in the source to XLEN.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sign_and_zero_extension</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SEXT.H</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sext.h rd, rs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X(rd) = EXTS(X(rs)[15..0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sign-extends the least-significant halfword in rs to XLEN.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sign_and_zero_extension</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ZEXT.H</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">zext.h rd, rs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X(rd) = EXTZ(X(rs)[15..0])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zero-extends the least-significant halfword of the source to XLEN.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sign_and_zero_extension</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rol rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(X(rs1) &lt;&lt; log2(XLEN)) | (X(rs1) &gt;&gt; (xlen - log2(XLEN)))</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performs a rotate left of rs1 by the amount in least-significant log2(XLEN) bits of rs2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bitwise_rotation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ror rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(X(rs1) &gt;&gt; log2(XLEN)) | (X(rs1) &lt;&lt; (xlen - log2(XLEN)))</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performs a rotate right of rs1 by the amount in least-significant log2(XLEN) bits of rs2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bitwise_rotation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RORI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rori rd, rs1, shamt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(X(rs1) &gt;&gt; log2(XLEN)) | (X(rs1) &lt;&lt; (xlen - log2(XLEN)))</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performs a rotate right of rs1 by the amount in least-significant log2(XLEN) bits of shamt.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bitwise_rotation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rolw rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EXTSrs1 &lt;&lt; X(rs2)[4..0]) | (rs1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performs a rotate left on the least-significant word of rs1 by the amount in least-significant 5 bits of rs2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bitwise_rotation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RORIW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">roriw rd, rs1, shamt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(rs1_data &gt;&gt; shamt[4..0]) | (rs1_data &lt;&lt; (32 - shamt[4..0]))</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performs a rotate right on the least-significant word of rs1 by the amount in least-significant log2(XLEN) bits of shamt.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bitwise_rotation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RORW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rorw rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(rs1 &gt;&gt; X(rs2)[4..0]) | (rs1 &lt;&lt; (32 - X(rs2)[4..0]))</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performs a rotate right on the least-significant word of rs1 by the amount in least-significant 5 bits of rs2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bitwise_rotation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ORC.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">orc.b rd, rs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if { input[(i + 7)..i] == 0 then 0b00000000 else 0b11111111</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the bits of each byte in rd to all zeros if no bit within the respective byte of rs is set, or to all ones if any bit within the respective byte of rs is set.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OR_Combine</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">REV8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rev8 rd, rs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">output[i..(i + 7)] = input[(j - 7)..j]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reverses the order of the bytes in rs.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Byte_reverse</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_rvzbc_carry_less_multiplication">3.2.10. RVZbc Carry-less multiplication</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Format</th>
<th class="tableblock halign-left valign-top">Pseudocode</th>
<th class="tableblock halign-left valign-top">Invalid_values</th>
<th class="tableblock halign-left valign-top">Exception_raised</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Op Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CLMUL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clmul rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">foreach (i from 1 to xlen by 1) {  output = if ((rs2 &gt;&gt; i) &amp; 1) then output ^ (rs1 &lt;&lt; i); else output;}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clmul produces the lower half of the 2.XLEN carry-less product.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Carry-less multiplication Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CLMULH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clmulh rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">foreach (i from 1 to xlen by 1) {  output = if rs2_val else output}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clmulh produces the upper half of the 2.XLEN carry-less product.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Carry-less multiplication Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CLMULR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clmulr rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">foreach (i from 0 to (xlen - 1) by 1) {  output = if rs2_val else output}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clmulr produces bits 2.XLEN-2:XLEN-1 of the 2.XLEN carry-less product.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Carry-less multiplication Operations</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_rvzbs_single_bit_instructions">3.2.11. RVZbs Single bit Instructions</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Format</th>
<th class="tableblock halign-left valign-top">Pseudocode</th>
<th class="tableblock halign-left valign-top">Invalid_values</th>
<th class="tableblock halign-left valign-top">Exception_raised</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Op Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BCLR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bclr rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X(rd) = X(rs1) &amp; ~(1 &lt;&lt; (X(rs2) &amp; (XLEN - 1)))</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction returns rs1 with a single bit cleared at the index specified in rs2. The index is read from the lower log2(XLEN) bits of rs2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single_bit_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BCLRI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bclri rd, rs1, shamt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X(rd) = X(rs1) &amp; ~(1 &lt;&lt; (shamt &amp; (XLEN - 1)))</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction returns rs1 with a single bit cleared at the index specified in shamt. The index is read from the lower log2(XLEN) bits of shamt. For RV32, the encodings corresponding to shamt[5]=1 are reserved.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single_bit_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bext rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X(rd) = (X(rs1) &gt;&gt; (X(rs2) &amp; (XLEN - 1))) &amp; 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction returns a single bit extracted from rs1 at the index specified in rs2. The index is read from the lower log2(XLEN) bits of rs2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single_bit_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BEXTI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bexti rd, rs1, shamt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X(rd) = (X(rs1) &gt;&gt; (shamt &amp; (XLEN - 1))) &amp; 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction returns a single bit extracted from rs1 at the index specified in rs2. The index is read from the lower log2(XLEN) bits of shamt. For RV32, the encodings corresponding to shamt[5]=1 are reserved.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single_bit_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINV</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">binv rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X(rd) = X(rs1) ^ (1 &lt;&lt; (X(rs2) &amp; (XLEN - 1)))</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction returns rs1 with a single bit inverted at the index specified in rs2. The index is read from the lower log2(XLEN) bits of rs2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single_bit_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINVI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">binvi rd, rs1, shamt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X(rd) = X(rs1) ^ (1 &lt;&lt; (shamt &amp; (XLEN - 1)))</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction returns rs1 with a single bit inverted at the index specified in shamt. The index is read from the lower log2(XLEN) bits of shamt. For RV32, the encodings corresponding to shamt[5]=1 are reserved.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single_bit_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BSET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bset rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X(rd) = X(rs1) | (1 &lt;&lt; (X(rs2) &amp; (XLEN - 1)))</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction returns rs1 with a single bit set at the index specified in rs2. The index is read from the lower log2(XLEN) bits of rs2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single_bit_Operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BSETI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bseti rd, rs1, shamt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X(rd) = X(rs1) | (1 &lt;&lt; (shamt &amp; (XLEN - 1)))</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This instruction returns rs1 with a single bit set at the index specified in shamt. The index is read from the lower log2(XLEN) bits of shamt. For RV32, the encodings corresponding to shamt[5]=1 are reserved.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single_bit_Operations</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="traps-interrupts-exceptions">3.3. Traps, Interrupts, Exceptions</h3>
<div class="paragraph">
<p>Traps are composed of interrupts and exceptions.
Interrupts are asynchronous events whereas exceptions are synchronous ones.
On one hand, interrupts are occuring independently of the instructions
(mainly raised by peripherals or debug module).
On the other hand, an instruction may raise exceptions synchronously.</p>
</div>
<div class="sect3">
<h4 id="raising-traps">3.3.1. Raising Traps</h4>
<div class="paragraph">
<p>When a trap is raised, the behaviour of the CVA6 core depends on
several CSRs and some CSRs are modified.</p>
</div>
<div class="sect4">
<h5 id="configuration-csrs">3.3.1.1. Configuration CSRs</h5>
<div class="paragraph">
<p>CSRs having an effect on the core behaviour when a trap occurs are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>mstatus</code> and <code>sstatus</code>: several fields control the core behaviour like interrupt enable (<code>MIE</code>, <code>SIE</code>)</p>
</li>
<li>
<p><code>mtvec</code> and <code>stvec</code>: specifies the address of trap handler.</p>
</li>
<li>
<p><code>medeleg</code>: specifies which exceptions can be handled by a lower privileged mode (S-mode)</p>
</li>
<li>
<p><code>mideleg</code>: specifies which interrupts can be handled by a lower privileged mode (S-mode)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="modified-csrs">3.3.1.2. Modified CSRs</h5>
<div class="paragraph">
<p>CSRs (or fields) updated by the core when a trap occurs are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>mstatus</code> or <code>sstatus</code>: several fields are updated like previous privilege mode (<code>MPP</code>, <code>SPP</code>), previous interrupt enabled (<code>MPIE</code>, SPIE``)</p>
</li>
<li>
<p><code>mepc</code> or <code>sepc</code>: updated with the virtual address of the interrupted instruction or the instruction raising the exception.</p>
</li>
<li>
<p><code>mcause</code> or <code>scause</code>: updated with a code indicating the event causing the trap.</p>
</li>
<li>
<p><code>mtval</code> or <code>stval</code>: updated with exception specific information like the faulting virtual address</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="supported-exceptions">3.3.1.3. Supported exceptions</h5>
<div class="paragraph">
<p>The following exceptions are supported by the CVA6:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>instruction address misaligned</p>
<div class="ulist">
<ul>
<li>
<p>control flow instruction with misaligned target</p>
</li>
</ul>
</div>
</li>
<li>
<p>instruction access fault</p>
<div class="ulist">
<ul>
<li>
<p>access to PMP region without execute permissions</p>
</li>
</ul>
</div>
</li>
<li>
<p>illegal instruction:</p>
<div class="ulist">
<ul>
<li>
<p>unimplemented CSRs</p>
</li>
<li>
<p>unsupported extensions</p>
</li>
</ul>
</div>
</li>
<li>
<p>breakpoint (<code>EBREAK</code>)</p>
</li>
<li>
<p>load address misaligned:</p>
<div class="ulist">
<ul>
<li>
<p><code>LH</code> at 2n+1 address</p>
</li>
<li>
<p><code>LW</code> at 4n+1, 4n+2, 4n+3 address</p>
</li>
</ul>
</div>
</li>
<li>
<p>load access fault</p>
<div class="ulist">
<ul>
<li>
<p>access to PMP region without read permissions</p>
</li>
</ul>
</div>
</li>
<li>
<p>store/AMO address misaligned</p>
<div class="ulist">
<ul>
<li>
<p><code>SH</code> at 2n+1 address</p>
</li>
<li>
<p><code>SW</code> at 4n+1, 4n+2, 4n+3 address</p>
</li>
</ul>
</div>
</li>
<li>
<p>store/AMO access fault</p>
<div class="ulist">
<ul>
<li>
<p>access to PMP region without write permissions</p>
</li>
</ul>
</div>
</li>
<li>
<p>environment call (<code>ECALL</code>) from U-mode</p>
</li>
<li>
<p>environment call (<code>ECALL</code>) from S-mode</p>
</li>
<li>
<p>environment call (<code>ECALL</code>) from M-mode</p>
</li>
<li>
<p>instruction page fault</p>
</li>
<li>
<p>load page fault</p>
<div class="ulist">
<ul>
<li>
<p>access to effective address without read permissions</p>
</li>
</ul>
</div>
</li>
<li>
<p>store/AMO page fault</p>
<div class="ulist">
<ul>
<li>
<p>access to effective address without write permissions</p>
</li>
</ul>
</div>
</li>
<li>
<p>debug request (custom) via debug interface</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: all exceptions are supported except the ones linked to the hypervisor extension</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="trap-return">3.3.2. Trap return</h4>
<div class="paragraph">
<p>Trap handler ends with trap return instruction (<code>MRET</code>, <code>SRET</code>). The behaviour of the CVA6 core depends on several CSRs.</p>
</div>
<div class="sect4">
<h5 id="configuration-csrs-1">3.3.2.1. Configuration CSRs</h5>
<div class="paragraph">
<p>CSRs having an effect on the core behaviour when returning from a trap are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>mstatus</code>: several fields control the core behaviour like previous privilege mode (<code>MPP</code>, <code>SPP</code>), previous interrupt enabled (<code>MPIE</code>, <code>SPIE</code>)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="modified-csrs-1">3.3.2.2. Modified CSRs</h5>
<div class="paragraph">
<p>CSRs (or fields) updated by the core when returning from a trap are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>mstatus</code>: several fields are updated like interrupt enable (<code>MIE</code>, <code>SIE</code>), modify privilege (<code>MPRV</code>)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="interrupts">3.3.3. Interrupts</h4>
<div class="ulist">
<ul>
<li>
<p>external interrupt: <code>irq_i</code> signal</p>
</li>
<li>
<p>software interrupt (inter-processor interrupt): <code>ipi_i</code> signal</p>
</li>
<li>
<p>timer interrupt: <code>time_irq_i</code> signal</p>
</li>
<li>
<p>debug interrupt: <code>debug_req_i</code> signal</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These signals are level sensitive. It means the interrupt is raised until it is cleared.</p>
</div>
<div class="paragraph">
<p>The exception code field (<code>mcause</code> CSR) depends on the interrupt source.</p>
</div>
</div>
<div class="sect3">
<h4 id="wait-for-interrupt">3.3.4. Wait for Interrupt</h4>
<div class="ulist">
<ul>
<li>
<p>CVA6 implementation: <code>WFI</code> stalls the core. The instruction is not available in U-mode (raise illegal instruction exception). Such exception is also raised when <code>TW=1</code> in <code>mstatus</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="csrs">3.4. csr</h3>
<div class="sect3">
<h4 id="_conventions">3.4.1. Conventions</h4>
<div class="paragraph">
<p>In the subsequent sections, register fields are labeled with one of the following abbreviations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>WPRI (Writes Preserve Values, Reads Ignore Values): read/write field reserved
for future use.  For forward compatibility, implementations that do not
furnish these fields must make them read-only zero.</p>
</li>
<li>
<p>WLRL (Write/Read Only Legal Values): read/write CSR field that specifies
behavior for only a subset of possible bit encodings, with other bit encodings
reserved.</p>
</li>
<li>
<p>WARL (Write Any Values, Reads Legal Values): read/write CSR fields which are
only defined for a subset of bit encodings, but allow any value to be written
while guaranteeing to return a legal value whenever read.</p>
</li>
<li>
<p>ROCST (Read-Only Constant): A special case of WARL field which admits only one
legal value, and therefore, behaves as a constant field that silently ignores
writes.</p>
</li>
<li>
<p>ROVAR (Read-Only Variable): A special case of WARL field which can take
multiple legal values but cannot be modified by software and depends only on
the architectural state of the hart.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In particular, a register that is not internally divided
into multiple fields can be considered as containing a single field of XLEN bits.
This allows to clearly represent read-write registers holding a single legal value
(typically zero).</p>
</div>
</div>
<div class="sect3">
<h4 id="_register_summary">3.4.2. Register Summary</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Address</th>
<th class="tableblock halign-left valign-top">Register Name</th>
<th class="tableblock halign-left valign-top">Privilege</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x300</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_MSTATUS">MSTATUS</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The mstatus register keeps track of and controls the hart&#8217;s current operating state.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x301</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_MISA">MISA</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">misa is a read-write register reporting the ISA supported by the hart.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x304</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_MIE">MIE</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The mie register is an MXLEN-bit read/write register containing interrupt enable bits.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x305</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_MTVEC">MTVEC</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MXLEN-bit read/write register that holds trap vector configuration.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x310</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_MSTATUSH">MSTATUSH</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The mstatush register keeps track of and controls the hart’s current operating state.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x323-0x33f</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_MHPMEVENT3-31">MHPMEVENT[3-31]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The mhpmevent is a MXLEN-bit event register which controls mhpmcounter3.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x340</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_MSCRATCH">MSCRATCH</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The mscratch register is an MXLEN-bit read/write register dedicated for use by machine mode.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x341</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_MEPC">MEPC</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The mepc is a warl register that must be able to hold all valid physical and virtual addresses.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x342</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_MCAUSE">MCAUSE</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The mcause register stores the information regarding the trap.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x343</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_MTVAL">MTVAL</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The mtval is a warl register that holds the address of the instruction which caused the exception.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x344</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_MIP">MIP</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The mip register is an MXLEN-bit read/write register containing information on pending interrupts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x3a0-0x3a3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_PMPCFG0-3">PMPCFG[0-3]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMP configuration register</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x3b0-0x3bf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_PMPADDR0-15">PMPADDR[0-15]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Physical memory protection address register</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x7c0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_ICACHE">ICACHE</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the register controls the operation of the i-cache unit.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x7c1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_DCACHE">DCACHE</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the register controls the operation of the d-cache unit.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0xb00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_MCYCLE">MCYCLE</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counts the number of clock cycles executed from an arbitrary point in time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0xb02</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_MINSTRET">MINSTRET</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counts the number of instructions completed from an arbitrary point in time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0xb03-0xb1f</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_MHPMCOUNTER3-31">MHPMCOUNTER[3-31]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The mhpmcounter is a 64-bit counter. Returns lower 32 bits in RV32I mode.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0xb80</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_MCYCLEH">MCYCLEH</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">upper 32 bits of mcycle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0xb82</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_MINSTRETH">MINSTRETH</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Upper 32 bits of minstret.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0xb83-0xb9f</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_MHPMCOUNTER3-31H">MHPMCOUNTER[3-31]H</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The mhpmcounterh returns the upper half word in RV32I systems.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0xf11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_MVENDORID">MVENDORID</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32-bit read-only register providing the JEDEC manufacturer ID of the provider of the core.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0xf12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_MARCHID">MARCHID</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MXLEN-bit read-only register encoding the base microarchitecture of the hart.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0xf13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_MIMPID">MIMPID</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides a unique encoding of the version of the processor implementation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0xf14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_MHARTID">MHARTID</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MXLEN-bit read-only register containing the integer ID of the hardware thread running the code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0xf15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_MCONFIGPTR">MCONFIGPTR</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MXLEN-bit read-only register that holds the physical address of a configuration data structure.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_register_description">3.4.3. Register Description</h4>
<div class="sect4">
<h5 id="_MSTATUS">3.4.3.1. MSTATUS</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0x300</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00001800</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRW</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>The mstatus register keeps track of and controls the hart&#8217;s current operating state.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stores the state of the user mode interrupts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SIE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stores the state of the supervisor mode interrupts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RESERVED_2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPRI</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reserved</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MIE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WLRL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 - 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stores the state of the machine mode interrupts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UPIE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stores the state of the user mode interrupts prior to the trap.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SPIE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stores the state of the supervisor mode interrupts prior to the trap.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UBE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">control the endianness of memory accesses other than instruction fetches for user mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MPIE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WLRL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 - 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stores the state of the machine mode interrupts prior to the trap.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SPP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stores the previous priority mode for supervisor.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[10:9]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RESERVED_9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPRI</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reserved</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[12:11]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MPP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stores the previous priority mode for machine.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[14:13]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Encodes the status of the floating-point unit, including the CSR fcsr and floating-point data registers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[16:15]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">XS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Encodes the status of additional user-mode extensions and associated state.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MPRV</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modifies the privilege level at which loads and stores execute in all privilege modes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modifies the privilege with which S-mode loads and stores access virtual memory.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MXR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modifies the privilege with which loads access virtual memory.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TVM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supports intercepting supervisor virtual-memory management operations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supports intercepting the WFI instruction.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TSR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supports intercepting the supervisor exception return instruction.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SPELP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supervisor mode previous expected-landing-pad (ELP) state.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[30:24]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RESERVED_24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPRI</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reserved</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read-only bit that summarizes whether either the FS field or XS field signals the presence of some dirty state.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_MISA">3.4.3.2. MISA</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0x301</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x40001106</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRW</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>misa is a read-write register reporting the ISA supported by the hart.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[25:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EXTENSIONS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x1106</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x1106</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Encodes the presence of the standard extensions, with a single bit per letter of the alphabet.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[29:26]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RESERVED_26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPRI</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reserved</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:30]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MXL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Encodes the native base integer ISA width.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_MIE">3.4.3.3. MIE</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0x304</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000000</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRW</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>The mie register is an MXLEN-bit read/write register containing interrupt enable bits.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">USIE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User Software Interrupt enable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSIE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supervisor Software Interrupt enable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VSSIE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VS-level Software Interrupt enable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MSIE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Machine Software Interrupt enable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UTIE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User Timer Interrupt enable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">STIE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supervisor Timer Interrupt enable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VSTIE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VS-level Timer Interrupt enable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MTIE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WLRL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 - 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Machine Timer Interrupt enable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UEIE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User External Interrupt enable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SEIE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supervisor External Interrupt enable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VSEIE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VS-level External Interrupt enable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MEIE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WLRL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 - 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Machine External Interrupt enable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SGEIE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HS-level External Interrupt enable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:13]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RESERVED_13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPRI</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reserved</strong></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_MTVEC">3.4.3.4. MTVEC</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0x305</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x80010000</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRW</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>MXLEN-bit read/write register that holds trap vector configuration.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[1:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vector mode.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:2]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BASE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x20004000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000 - 0x3FFFFFFF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vector base address.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_MSTATUSH">3.4.3.5. MSTATUSH</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0x310</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000000</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRW</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>The mstatush register keeps track of and controls the hart’s current operating state.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[3:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RESERVED_0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPRI</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reserved</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SBE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">control the endianness of memory accesses other than instruction fetches for supervisor mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MBE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">control the endianness of memory accesses other than instruction fetches for machine mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GVA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stores the state of the supervisor mode interrupts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MPV</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stores the state of the user mode interrupts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RESERVED_8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPRI</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reserved</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MPELP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Machine mode previous expected-landing-pad (ELP) state.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:10]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RESERVED_10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPRI</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reserved</strong></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_MHPMEVENT3-31">3.4.3.6. MHPMEVENT[3-31]</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0x323-0x33f</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000000</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRW</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>The mhpmevent is a MXLEN-bit event register which controls mhpmcounter3.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MHPMEVENT[I]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The mhpmevent is a MXLEN-bit event register which controls mhpmcounter3.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_MSCRATCH">3.4.3.7. MSCRATCH</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0x340</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000000</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRW</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>The mscratch register is an MXLEN-bit read/write register dedicated for use by machine mode.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MSCRATCH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000 - 0xFFFFFFFF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The mscratch register is an MXLEN-bit read/write register dedicated for use by machine mode.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_MEPC">3.4.3.8. MEPC</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0x341</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000000</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRW</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>The mepc is a warl register that must be able to hold all valid physical and virtual addresses.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MEPC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000 - 0xFFFFFFFF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The mepc is a warl register that must be able to hold all valid physical and virtual addresses.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_MCAUSE">3.4.3.9. MCAUSE</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0x342</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000000</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRW</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>The mcause register stores the information regarding the trap.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[30:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EXCEPTION_CODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WLRL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 - 15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Encodes the exception code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTERRUPT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WLRL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0 - 0x1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates whether the trap was due to an interrupt.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_MTVAL">3.4.3.10. MTVAL</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0x343</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000000</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRW</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>The mtval is a warl register that holds the address of the instruction which caused the exception.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MTVAL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The mtval is a warl register that holds the address of the instruction which caused the exception.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_MIP">3.4.3.11. MIP</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0x344</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000000</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRW</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>The mip register is an MXLEN-bit read/write register containing information on pending interrupts.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">USIP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User Software Interrupt Pending.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSIP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supervisor Software Interrupt Pending.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VSSIP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VS-level Software Interrupt Pending.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MSIP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Machine Software Interrupt Pending.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UTIP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User Timer Interrupt Pending.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">STIP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supervisor Timer Interrupt Pending.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VSTIP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VS-level Timer Interrupt Pending.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MTIP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROVAR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Machine Timer Interrupt Pending.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UEIP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User External Interrupt Pending.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SEIP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supervisor External Interrupt Pending.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VSEIP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VS-level External Interrupt Pending.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MEIP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROVAR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Machine External Interrupt Pending.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SGEIP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HS-level External Interrupt Pending.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:13]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RESERVED_13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPRI</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reserved</strong></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_PMPCFG0-3">3.4.3.12. PMPCFG[0-3]</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0x3a0-0x3a3</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000000</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRW</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>PMP configuration register</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[7:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMP[I*4 + 0]CFG</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00 - 0xFF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pmp configuration bits</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[15:8]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMP[I*4 + 1]CFG</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00 - 0xFF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pmp configuration bits</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[23:16]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMP[I*4 + 2]CFG</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00 - 0xFF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pmp configuration bits</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:24]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMP[I*4 + 3]CFG</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00 - 0xFF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pmp configuration bits</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_PMPADDR0-15">3.4.3.13. PMPADDR[0-15]</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0x3b0-0x3bf</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000000</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRW</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>Physical memory protection address register</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMPADDR[I]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000 - 0xFFFFFFFF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Physical memory protection address register</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_ICACHE">3.4.3.14. ICACHE</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0x7c0</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000001</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRW</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>the register controls the operation of the i-cache unit.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ICACHE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bit for cache-enable of instruction cache</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RESERVED_1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPRI</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reserved</strong></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_DCACHE">3.4.3.15. DCACHE</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0x7c1</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000001</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRW</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>the register controls the operation of the d-cache unit.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DCACHE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bit for cache-enable of data cache</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RESERVED_1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPRI</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reserved</strong></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_MCYCLE">3.4.3.16. MCYCLE</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0xb00</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000000</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRW</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>Counts the number of clock cycles executed from an arbitrary point in time.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCYCLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000 - 0xFFFFFFFF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counts the number of clock cycles executed from an arbitrary point in time.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_MINSTRET">3.4.3.17. MINSTRET</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0xb02</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000000</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRW</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>Counts the number of instructions completed from an arbitrary point in time.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MINSTRET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000 - 0xFFFFFFFF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counts the number of instructions completed from an arbitrary point in time.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_MHPMCOUNTER3-31">3.4.3.18. MHPMCOUNTER[3-31]</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0xb03-0xb1f</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000000</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRW</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>The mhpmcounter is a 64-bit counter. Returns lower 32 bits in RV32I mode.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MHPMCOUNTER[I]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The mhpmcounter is a 64-bit counter. Returns lower 32 bits in RV32I mode.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_MCYCLEH">3.4.3.19. MCYCLEH</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0xb80</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000000</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRW</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>upper 32 bits of mcycle</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCYCLEH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000 - 0xFFFFFFFF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">upper 32 bits of mcycle</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_MINSTRETH">3.4.3.20. MINSTRETH</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0xb82</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000000</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRW</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>Upper 32 bits of minstret.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MINSTRETH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000 - 0xFFFFFFFF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Upper 32 bits of minstret.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_MHPMCOUNTER3-31H">3.4.3.21. MHPMCOUNTER[3-31]H</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0xb83-0xb9f</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000000</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRW</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>The mhpmcounterh returns the upper half word in RV32I systems.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MHPMCOUNTER[I]H</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The mhpmcounterh returns the upper half word in RV32I systems.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_MVENDORID">3.4.3.22. MVENDORID</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0xf11</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000602</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRO</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>32-bit read-only register providing the JEDEC manufacturer ID of the provider of the core.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MVENDORID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000602</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000602</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32-bit read-only register providing the JEDEC manufacturer ID of the provider of the core.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_MARCHID">3.4.3.23. MARCHID</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0xf12</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000003</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRO</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>MXLEN-bit read-only register encoding the base microarchitecture of the hart.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MARCHID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000003</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000003</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MXLEN-bit read-only register encoding the base microarchitecture of the hart.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_MIMPID">3.4.3.24. MIMPID</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0xf13</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000000</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRO</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>Provides a unique encoding of the version of the processor implementation.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MIMPID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides a unique encoding of the version of the processor implementation.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_MHARTID">3.4.3.25. MHARTID</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0xf14</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000000</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRO</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>MXLEN-bit read-only register containing the integer ID of the hardware thread running the code.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MHARTID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MXLEN-bit read-only register containing the integer ID of the hardware thread running the code.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_MCONFIGPTR">3.4.3.26. MCONFIGPTR</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Address</dt>
<dd>
<p>0xf15</p>
</dd>
<dt class="hdlist1">Reset Value</dt>
<dd>
<p>0x00000000</p>
</dd>
<dt class="hdlist1">Privilege</dt>
<dd>
<p>MRO</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>MXLEN-bit read-only register that holds the physical address of a configuration data structure.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bits</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Reset Value</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Legal Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[31:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCONFIGPTR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROCST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x00000000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MXLEN-bit read-only register that holds the physical address of a configuration data structure.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cva6_axi">3.5. AXI</h3>
<div class="sect3">
<h4 id="cva6_axi-introduction">3.5.1. Introduction</h4>
<div class="paragraph">
<p>In this chapter, we describe in detail the restriction that apply to the supported features.</p>
</div>
<div class="paragraph">
<p>In order to understand how the AXI memory interface behaves in CVA6, it is necessary to read the AMBA AXI and ACE Protocol Specification (<a href="https://developer.arm.com/documentation/ihi0022/hc" class="bare">https://developer.arm.com/documentation/ihi0022/hc</a>) and this chapter.</p>
</div>
<div class="paragraph">
<p><em>Applicability of this chapter to configurations:</em></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration</th>
<th class="tableblock halign-left valign-top">Implementation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CV32A60AX</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AXI included</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CV32A60X</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AXI included</p></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="about-the-axi4-protocol">3.5.1.1. About the AXI4 protocol</h5>
<div class="paragraph">
<p>The AMBA AXI protocol supports high-performance, high-frequency system designs for communication between Manager and Subordinate components.</p>
</div>
<div class="paragraph">
<p>The AXI protocol features are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It is suitable for high-bandwidth and low-latency designs.</p>
</li>
<li>
<p>High-frequency operation is provided, without using complex bridges.</p>
</li>
<li>
<p>The protocol meets the interface requirements of a wide range of components.</p>
</li>
<li>
<p>It is suitable for memory controllers with high initial access latency.</p>
</li>
<li>
<p>Flexibility in the implementation of interconnect architectures is provided.</p>
</li>
<li>
<p>It is backward-compatible with AHB and APB interfaces.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The key features of the AXI protocol are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Separate address/control and data phases.</p>
</li>
<li>
<p>Support for unaligned data transfers, using byte strobes.</p>
</li>
<li>
<p>Uses burst-based transactions with only the start address issued.</p>
</li>
<li>
<p>Separate read and write data channels, that can provide low-cost Direct Memory Access (DMA).</p>
</li>
<li>
<p>Support for issuing multiple outstanding addresses.</p>
</li>
<li>
<p>Support for out-of-order transaction completion.</p>
</li>
<li>
<p>Permits easy addition of register stages to provide timing closure.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The present specification is based on: <a href="https://developer.arm.com/documentation/ihi0022/hc" class="bare">https://developer.arm.com/documentation/ihi0022/hc</a></p>
</div>
</div>
<div class="sect4">
<h5 id="axi4-and-cva6">3.5.1.2. AXI4 and CVA6</h5>
<div class="paragraph">
<p>The AXI bus protocol is used with the CVA6 processor as a memory interface. Since the processor is the one that initiates the connection with the memory, it will have a manager interface to send requests to the subordinate, which will be the memory.</p>
</div>
<div class="paragraph">
<p>Features supported by CVA6 are the ones in the AMBA AXI4 specification and the Atomic Operation feature from AXI5. With restriction that apply to some features.</p>
</div>
<div class="paragraph">
<p>This doesn’t mean that all the full set of signals available on an AXI interface are supported by the CVA6. Nevertheless, all required AXI signals are implemented.</p>
</div>
<div class="paragraph">
<p>Supported AXI4 features are defined in AXI Protocol Specification sections: A3, A4, A5, A6 and A7.</p>
</div>
<div class="paragraph">
<p>Supported AXI5 feature are defined in AXI Protocol Specification section: E1.1.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="signal-description-section-a2">3.5.2. Signal Description (Section A2)</h4>
<div class="paragraph">
<p>This section introduces the AXI memory interface signals of CVA6. Most of the signals are supported by CVA6, the tables summarizing the signals identify the exceptions.</p>
</div>
<div class="paragraph">
<p>In the following tables, the <strong>Src</strong> column tells whether the signal is driven by Manager ou Subordinate.</p>
</div>
<div class="paragraph">
<p>The AXI required and optional signals, and the default signals values that apply when an optional signal is not implemented are defined in AXI Protocol Specification section A9.3.</p>
</div>
<div class="sect4">
<h5 id="global-signals-section-a2.1">3.5.2.1. Global signals (Section A2.1)</h5>
<div class="paragraph">
<p>Table 2.1 shows the global AXI memory interface signals.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Signal</strong></th>
<th class="tableblock halign-left valign-top"><strong>Src</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ACLK</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clock source</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Global clock signal. Synchronous signals are sampled on the
rising edge of the global clock.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>WDATA</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset source</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Global reset signal. This signal is active-LOW.</pre>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="write-address-channel-signals-section-a2.2">3.5.2.2. Write address channel signals (Section A2.2)</h5>
<div class="paragraph">
<p>Table 2.2 shows the AXI memory interface write address channel signals. Unless the description indicates otherwise, a signal can take any parameter if is supported.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Signal</strong></th>
<th class="tableblock halign-left valign-top"><strong>Src</strong></th>
<th class="tableblock halign-left valign-top"><strong>Support</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>AWID</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Yes
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Identification tag for a write transaction.
CVA6 gives the id depending on the type of transaction.
See transaction_identifiers_label.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>AWADDR</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">The address of the first transfer in a write transaction.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>AWLEN</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Yes
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Length, the exact number of data transfers in a write
transaction. This information determines the number of
data transfers associated with the address.
All write transactions performed by CVA6 are of length 1.
(AWLEN = 0b00000000)</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>AWSIZE</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Yes
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Size, the number of bytes in each data transfer in a write
transaction
See address_structure_label.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>AWBURST</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Yes
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Burst type, indicates how address changes between each
transfer in a write transaction.
All write transactions performed by CVA6 are of burst type
INCR. (AWBURST = 0b01)</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>AWLOCK</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Yes
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Provides information about the atomic characteristics of a
write transaction.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>AWCACHE</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Yes
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Indicates how a write transaction is required to progress
through a system.
The subordinate is always of type Normal Non-cacheable Non-bufferable.
(AWCACHE = 0b0010)</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>AWPROT</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Protection attributes of a write transaction:
privilege, security level, and access type.
The value of AWPROT is always 0b000.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>AWQOS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">No
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Quality of Service identifier for a write transaction.
AWQOS = 0b0000</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>AWREGION</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">No
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Region indicator for a write transaction.
AWREGION = 0b0000</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>AWUSER</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">No
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">User-defined extension for the write address channel.
AWUSER = 0b00</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>AWATOP</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Yes
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">AWATOP indicates the Properties of the Atomic Operation
used for a write transaction.
See atomic_transactions_label.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>AWVALID</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Indicates that the write address channel signals are valid.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>AWREADY</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Indicates that a transfer on the write address channel
can be accepted.</pre>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="write-data-channel-signals-section-a2.3">3.5.2.3. Write data channel signals (Section A2.3)</h5>
<div class="paragraph">
<p>Table 2.3 shows the AXI write data channel signals. Unless the description indicates otherwise, a signal can take any parameter if is supported.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Signal</strong></th>
<th class="tableblock halign-left valign-top"><strong>Src</strong></th>
<th class="tableblock halign-left valign-top"><strong>Support</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>WDATA</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Write data.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>WSTRB</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Yes
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Write strobes, indicate which byte lanes hold valid data
See data_read_and_write_structure_label.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>WLAST</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Indicates whether this is the last data transfer in a write
transaction.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>WUSER</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Yes
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">User-defined extension for the write data channel.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>WVALID</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Indicates that the write data channel signals are valid.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>WREADY</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Indicates that a transfer on the write data channel can be
accepted.</pre>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="write-response-channel-signals-section-a2.4">3.5.2.4. Write Response Channel signals (Section A2.4)</h5>
<div class="paragraph">
<p>Table 2.4 shows the AXI write response channel signals. Unless the description indicates otherwise, a signal can take any parameter if is supported.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Signal</strong></th>
<th class="tableblock halign-left valign-top"><strong>Src</strong></th>
<th class="tableblock halign-left valign-top"><strong>Support</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>BID</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Yes
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Identification tag for a write response.
CVA6 gives the id depending on the type of transaction.
See transaction_identifiers_label.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>BRESP</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Write response, indicates the status of a write transaction.
See read_and_write_response_structure_label.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>BUSER</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">No
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">User-defined extension for the write response channel.
Not supported.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>BVALID</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Indicates that the write response channel signals are valid.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>BREADY</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Indicates that a transfer on the write response channel can be
accepted.</pre>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="read-address-channel-signals-section-a2.5">3.5.2.5. Read address channel signals (Section A2.5)</h5>
<div class="paragraph">
<p>Table 2.5 shows the AXI read address channel signals. Unless the description indicates otherwise, a signal can take any parameter if is supported.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Signal</strong></th>
<th class="tableblock halign-left valign-top"><strong>Src</strong></th>
<th class="tableblock halign-left valign-top"><strong>Support</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ARID</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Yes
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Identification tag for a read transaction.
CVA6 gives the id depending on the type of transaction.
See transaction_identifiers_label.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ARADDR</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Yes</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">The address of the first transfer in a read transaction.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ARLEN</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Yes
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Length, the exact number of data transfers in a read
transaction. This information determines the number of data
transfers associated with the address.
All read transactions performed by CVA6 have a length equal to 0,
ICACHE_LINE_WIDTH/64 or DCACHE_LINE_WIDTH/64.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ARSIZE</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Yes
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Size, the number of bytes in each data transfer in a read
transaction
See address_structure_label.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ARBURST</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Yes
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Burst type, indicates how address changes between each
transfer in a read transaction.
All Read transactions performed by CVA6 are of burst type INCR.
(ARBURST = 0b01)</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ARLOCK</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Yes
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Provides information about the atomic characteristics of
a read transaction.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ARCACHE</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Yes
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Indicates how a read transaction is required to progress
through a system.
The memory is always of type Normal Non-cacheable Non-bufferable.
(ARCACHE = 0b0010)</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ARPROT</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Yes</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Protection attributes of a read transaction:
privilege, security level, and access type.
The value of ARPROT is always 0b000.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ARQOS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">No
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Quality of Service identifier for a read transaction.
ARQOS= 0b00</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ARREGION</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">No
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Region indicator for a read transaction.
ARREGION= 0b00</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ARUSER</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">No
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">User-defined extension for the read address channel.
ARUSER= 0b00</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ARVALID</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Yes
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Indicates that the read address channel signals are valid.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ARREADY</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Yes
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Indicates that a transfer on the read address channel can be
accepted.</pre>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="read-data-channel-signals-section-a2.6">3.5.2.6. Read data channel signals (Section A2.6)</h5>
<div class="paragraph">
<p>Table 2.6 shows the AXI read data channel signals. Unless the description indicates otherwise, a signal can take any parameter if is supported.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Signal</strong></th>
<th class="tableblock halign-left valign-top"><strong>Src</strong></th>
<th class="tableblock halign-left valign-top"><strong>Support</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>RID</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Yes
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">The ID tag of the read data transfer.
CVA6 gives the id depending on the type of transaction.
See transaction_identifiers_label.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>RDATA</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Read data.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>RLAST</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Indicates whether this is the last data transfer in a read
transaction.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>RUSER</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Yes
(optional)</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">User-defined extension for the read data channel.
Not supported.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>RVALID</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Indicates that the read data channel signals are valid.</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>RREADY</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Indicates that a transfer on the read data channel can be accepted.</pre>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="single-interface-requirements-transaction-structure-section-a3.4">3.5.3. Single Interface Requirements: Transaction structure (Section A3.4)</h4>
<div class="paragraph">
<p>This section describes the structure of transactions. The following sections define the address, data, and response
structures</p>
</div>
<div class="sect4">
<h5 id="address_structure_label">3.5.3.1. Address structure (Section A3.4.1)</h5>
<div class="paragraph">
<p>The AXI protocol is burst-based. The Manager begins each burst by driving control information and the address of the first byte in the transaction to the Subordinate. As the burst progresses, the Subordinate must calculate the addresses of subsequent transfers in the burst.</p>
</div>
<div class="paragraph">
<p><strong>Burst length</strong></p>
</div>
<div class="paragraph">
<p>The burst length is specified by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ARLEN[7:0]</code>, for read transfers</p>
</li>
<li>
<p><code>AWLEN[7:0]</code>, for write transfers</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The burst length for AXI4 is defined as: <code>Burst_Length = AxLEN[3:0] + 1</code>.</p>
</div>
<div class="paragraph">
<p>CVA6 has some limitation governing the use of bursts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>All read transactions performed by CVA6 are of burst length equal to 0, ICACHE_LINE_WIDTH/64 or DCACHE_LINE_WIDTH/64.</em></p>
</li>
<li>
<p><em>All write transactions performed by CVA6 are of burst length equal to 1.</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Burst size</strong></p>
</div>
<div class="paragraph">
<p>The maximum number of bytes to transfer in each data transfer, or beat, in a burst, is specified by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ARSIZE[2:0]</code>, for read transfers</p>
</li>
<li>
<p><code>AWSIZE[2:0]</code>, for write transfers</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>The maximum value can be taking by AxSIZE is log2(AXI DATA WIDTH/8) (8 bytes by transfer).</em>
<em>If(RV32) AWSIZE &lt; 3 (The maximum store size is 4 bytes)</em></p>
</div>
<div class="paragraph">
<p><strong>Burst type</strong></p>
</div>
<div class="paragraph">
<p>The AXI protocol defines three burst types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>FIXED</strong></p>
</li>
<li>
<p><strong>INCR</strong></p>
</li>
<li>
<p><strong>WRAP</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The burst type is specified by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ARBURST[1:0]</code>, for read transfers</p>
</li>
<li>
<p><code>AWBURST[1:0]</code>, for write transfers</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>All transactions performed by CVA6 are of burst type INCR. (AxBURST = 0b01)</em></p>
</div>
</div>
<div class="sect4">
<h5 id="data_read_and_write_structure_label">3.5.3.2. Data read and write structure: (Section A3.4.4)</h5>
<div class="paragraph">
<p><strong>Write strobes</strong></p>
</div>
<div class="paragraph">
<p>The <code>WSTRB[n:0]</code> signals when HIGH, specify the byte lanes of the data bus that contain valid information. There is one write strobe
for each 8 bits of the write data bus, therefore <code>WSTRB[n]</code> corresponds to <code>WDATA[(8n)+7: (8n)]</code>.</p>
</div>
<div class="paragraph">
<p><em>Write Strobe width is equal to (AXI_DATA_WIDTH/8) (n = (AXI_DATA_WIDTH/8)-1).</em></p>
</div>
<div class="paragraph">
<p><em>The size of transactions performed by cva6 is equal to the number of data byte lanes containing valid information.</em>
<em>This means 1, 2, 4, &#8230;&#8203; or (AXI_DATA_WIDTH/8) byte lanes containing valid information.</em>
<em>CVA6 doesn&#8217;t perform unaligned memory acces, therefore the WSTRB take only combination of aligned access</em>
<em>If(RV32) WSTRB &lt; 255 (Since AWSIZE lower than 3, so the data bus cannot have more than 4 valid byte lanes)</em></p>
</div>
<div class="paragraph">
<p><strong>Unaligned transfers</strong></p>
</div>
<div class="paragraph">
<p>For any burst that is made up of data transfers wider than 1 byte, the first bytes accessed might be unaligned with the natural
address boundary. For example, a 32-bit data packet that starts at a byte address of 0x1002 is not aligned to the natural 32-bit
transfer size.</p>
</div>
<div class="paragraph">
<p><em>CVA6 does not perform Unaligned transfers.</em></p>
</div>
</div>
<div class="sect4">
<h5 id="read_and_write_response_structure_label">3.5.3.3. Read and write response structure (Section A3.4.5)</h5>
<div class="paragraph">
<p>The AXI protocol provides response signaling for both read and write transactions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For read transactions, the response information from the Subordinate is signaled on the read data channel.</p>
</li>
<li>
<p>For write transactions, the response information is signaled on the write response channel.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>CVA6 does not consider the responses sent by the memory except in the exclusive Access ( <code>XRESP[1:0]</code> = 0b01 ).</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="transaction-attributes-memory-types-section-a4">3.5.4. Transaction Attributes: Memory types (Section A4)</h4>
<div class="paragraph">
<p>This section describes the attributes that determine how a transaction should be treated by the AXI subordinate that is connected to the CVA6.</p>
</div>
<div class="paragraph">
<p><code>AxCACHE</code> always takeq 0b0010. The subordinate should be a Normal Non-cacheable Non-bufferable.</p>
</div>
<div class="paragraph">
<p>The required behavior for Normal Non-cacheable Non-bufferable memory is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The write response must be obtained from the final destination.</p>
</li>
<li>
<p>Read data must be obtained from the final destination.</p>
</li>
<li>
<p>Transactions are modifiable.</p>
</li>
<li>
<p>Writes can be merged.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="transaction_identifiers_label">3.5.5. Transaction Identifiers (Section A5)</h4>
<div class="paragraph">
<p>The AXI protocol includes AXI ID transaction identifiers. A Manager can use these to identify separate transactions that must be returned in order.</p>
</div>
<div class="paragraph">
<p>The CVA6 identify each type of transaction with a specific ID:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For read transaction, id can be 0 or 1. (0 for instruction fetch and 1 for data)</p>
</li>
<li>
<p>For write transaction, id = 1.</p>
</li>
<li>
<p>For Atomic operation, id = 3. This ID must be sent in the write channels and also in the read channel if the transaction performed requires response data.</p>
</li>
<li>
<p>For Exclusive transaction, id = 3.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="axi-ordering-model-section-a6">3.5.6. AXI Ordering Model (Section A6)</h4>
<div class="sect4">
<h5 id="axi-ordering-model-overview-section-a6.1">3.5.6.1. AXI ordering model overview (Section A6.1)</h5>
<div class="paragraph">
<p>The AXI ordering model is based on the use of the transaction identifier, which is signaled on <code>ARID</code> or <code>AWID</code>.</p>
</div>
<div class="paragraph">
<p>Transaction requests on the same channel, with the same ID and destination are guaranteed to remain in order.</p>
</div>
<div class="paragraph">
<p>Transaction responses with the same ID are returned in the same order as the requests were issued.</p>
</div>
<div class="paragraph">
<p>Write transaction requests, with the same destination are guaranteed to remain in order. Because all write transaction performed by CVA6 have the same ID.</p>
</div>
<div class="paragraph">
<p>CVA6 can perform multiple outstanding write address transactions.</p>
</div>
<div class="paragraph">
<p>CVA6 cannot perform a Read transaction and a Write one at the same time. Therefore there no ordering problems between Read and write transactions.</p>
</div>
<div class="paragraph">
<p>The ordering model does not give any ordering guarantees between:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Transactions from different Managers</p>
</li>
<li>
<p>Read Transactions with different IDs</p>
</li>
<li>
<p>Transactions to different Memory locations</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the CVA6 requires ordering between transactions that have no ordering guarantee, the Manager must wait to receive a response to the first transaction before issuing the second transaction.</p>
</div>
</div>
<div class="sect4">
<h5 id="memory-locations-and-peripheral-regions-section-a6.2">3.5.6.2. Memory locations and Peripheral regions (Section A6.2)</h5>
<div class="paragraph">
<p>The address map in AMBA is made up of Memory locations and Peripheral regions. But the AXI is associated to the memory interface of CVA6.</p>
</div>
<div class="paragraph">
<p>A Memory location has all of the following properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A read of a byte from a Memory location returns the last value that was written to that byte location.</p>
</li>
<li>
<p>A write to a byte of a Memory location updates the value at that location to a new value that is obtained by a subsequent read of that location.</p>
</li>
<li>
<p>Reading or writing to a Memory location has no side-effects on any other Memory location.</p>
</li>
<li>
<p>Observation guarantees for Memory are given for each location.</p>
</li>
<li>
<p>The size of a Memory location is equal to the single-copy atomicity size for that component.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="transactions-and-ordering-section-a6.3">3.5.6.3. Transactions and ordering (Section A6.3)</h5>
<div class="paragraph">
<p>A transaction is a read or a write to one or more address locations. The locations are determined by AxADDR and any relevant qualifiers such as the Non-secure bit in <code>AxPROT</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ordering guarantees are given only between accesses to the same Memory location or Peripheral region.</p>
</li>
<li>
<p>A transaction to a Peripheral region must be entirely contained within that region.</p>
</li>
<li>
<p>A transaction that spans multiple Memory locations has multiple ordering guarantees.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Transaction performed by CVA6 is of type Normal, because <code>AxCACHE[1]</code> is asserted.</p>
</div>
<div class="paragraph">
<p>Normal transactions are used to access Memory locations and are not expected to be used to access Peripheral regions.</p>
</div>
<div class="paragraph">
<p>A Normal access to a Peripheral region must complete in a protocol-compliant manner, but the result is IMPLEMENTATION DEFINED.</p>
</div>
<div class="paragraph">
<p>A write transaction performed by CVA6 is Non-bufferable (It is not possible to send an early response before the transaction reach the final destination), because <code>AxCACHE[0]</code> is deasserted.</p>
</div>
</div>
<div class="sect4">
<h5 id="ordered-write-observation-section-a6.8">3.5.6.4. Ordered write observation (Section A6.8)</h5>
<div class="paragraph">
<p>To improve compatibility with interface protocols that support a different ordering model, a Subordinate interface can give stronger ordering guarantees for write transactions. A stronger ordering guarantee is known as Ordered Write Observation.</p>
</div>
<div class="paragraph">
<p><em>The CVA6 AXI interface exhibits Ordered Write Observation, so the Ordered_Write_Observation property is True.</em></p>
</div>
<div class="paragraph">
<p>An interface that exhibits Ordered Write Observation gives guarantees for write transactions that are not dependent on the destination or address:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A write W1 is guaranteed to be observed by a write W2, where W2 is issued after W1, from the same Manager, with the same ID.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="atomic_transactions_label">3.5.7. Atomic transactions (Section E1.1)</h4>
<div class="paragraph">
<p>AMBA 5 introduces Atomic transactions, which perform more than just a single access and have an operation that is associated with the transaction. Atomic transactions enable sending the operation to the data, permitting the operation to be performed closer to where the data is located. Atomic transactions are suited to situations where the data is located a significant distance from the agent that must perform the operation.</p>
</div>
<div class="paragraph">
<p><em>If(RVA) AWATOP = 0 (If AMO instructions are not supported, CVA6 cannot perform Atomic transaction)</em></p>
</div>
<div class="paragraph">
<p><em>CVA6 supports just the AtomicLoad and AtomicSwap transaction. So <code>AWATOP[5:4]</code> can be 00, 10 or 11.</em></p>
</div>
<div class="paragraph">
<p><em>CVA6 performs only little-endian operation. So <code>AWATOP[3]</code> = 0.</em></p>
</div>
<div class="paragraph">
<p><em>For AtomicLoad, CVA6 supports all arithmetic operations encoded on the lower-order <code>AWATOP[2:0]</code> signals.</em></p>
</div>
</div>
<div class="sect3">
<h4 id="cva6-constraints">3.5.8. CVA6 Constraints</h4>
<div class="paragraph">
<p>This section describes cross-cases between several features that are not supported by CVA6.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ARID = 0 &amp;&amp; ARSIZE = log(AXI_DATA_WIDTH/8), CVA6 always requests max number of words in case of read transaction with ID 0 (instruction fetch)</p>
</li>
<li>
<p>if(RV32) ARSIZE != 3 &amp;&amp; ARLEN = 0 &amp;&amp; ARID = 1, the maximum load instruction size is 4 bytes</p>
</li>
<li>
<p>if(!RVA) AxLOCK = 0, if AMO instructions are not supported, CVA6 cannot perform exclusive transaction</p>
</li>
<li>
<p>if(RVA) AxLOCK = 1 &#8658; AxSIZE &gt; 1, CVA6 doesn&#8217;t perform exclusive transaction with size lower than 4 bytes</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cva6_cvx_interface_coprocessor">3.6. CV-X-IF Interface and Coprocessor</h3>
<div class="paragraph">
<p>The CV-X-IF interface of CVA6 allows to extend its supported instruction
set with external coprocessors.</p>
</div>
<div class="paragraph">
<p><em>Applicability of this chapter to configurations:</em></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration</th>
<th class="tableblock halign-left valign-top">Implementation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CV32A60AX</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CV-X-IF included</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CV32A60X</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CV-X-IF included</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CV64A6_MMU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CV-X-IF included</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="cv-x-if-interface-specification">3.6.1. CV-X-IF interface specification</h4>
<div class="sect4">
<h5 id="description">3.6.1.1. Description</h5>
<div class="paragraph">
<p>This design specification presents global functionalities of
Core-V-eXtension-Interface (XIF, CVXIF, CV-X-IF, X-interface) in the CVA6 core.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sourceCode" data-lang="sourceCode">The CORE-V X-Interface is a RISC-V eXtension interface that provides a
generalized framework suitable to implement custom coprocessors and ISA
extensions for existing RISC-V processors.

--core-v-xif Readme, https://github.com/openhwgroup/core-v-xif</code></pre>
</div>
</div>
<div class="paragraph">
<p>The specification of the CV-X-IF bus protocol can be found at [CV-X-IF].</p>
</div>
<div class="paragraph">
<p>CV-X-IF aims to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create interfaces to connect a coprocessor to the CVA6 to execute instructions.</p>
</li>
<li>
<p>Offload CVA6 illegal instrutions to the coprocessor to be executed.</p>
</li>
<li>
<p>Get the results of offloaded instructions from the coprocessor so they are written back into the CVA6 register file.</p>
</li>
<li>
<p>Add standard RISC-V instructions unsupported by CVA6 or custom instructions and implement them in a coprocessor.</p>
</li>
<li>
<p>Kill offloaded instructions to allow speculative execution in the coprocessor. (Unsupported in CVA6 yet)</p>
</li>
<li>
<p>Connect the coprocessor to memory via the CVA6 Load and Store Unit. (Unsupported in CVA6 yet)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The coprocessor operates like another functional unit so it is connected
to the CVA6 in the execute stage.</p>
</div>
<div class="paragraph">
<p>Only the 3 mandatory interfaces from the CV-X-IF specification (issue, commit and result
) have been implemented.
Compressed interface, Memory Interface and Memory result interface are not yet
implemented in the CVA6.</p>
</div>
</div>
<div class="sect4">
<h5 id="supported-parameters">3.6.1.2. Supported Parameters</h5>
<div class="paragraph">
<p>The following table presents CVXIF parameters supported by CVA6.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>X_NUM_RS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int: 2 or 3 (configurable)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Number of register file read ports that can
be used by the eXtension interface</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>X_ID_WIDTH</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int: 3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Identification width for the eXtension
interface</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>X_MEM_WIDTH</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a (feature not supported)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Memory access width for loads/stores via the
eXtension interface</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>X_RFR_WIDTH</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int: <code>XLEN</code> (32 or 64)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Register file read access width for the
eXtension interface</pre>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>X_RFW_WIDTH</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int: <code>XLEN</code> (32 or 64)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">Register file write access width for the
eXtension interface</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>X_MISA</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[31:0]: 0x0000_0000</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="verseblock">
<pre class="content">MISA extensions implemented on the eXtension
interface</pre>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="cv-x-if-enabling">3.6.1.3. CV-X-IF Enabling</h5>
<div class="paragraph">
<p>CV-X-IF can be enabled or disabled via the <code>CVA6ConfigCvxifEn</code> parameter in the SystemVerilog source code.</p>
</div>
</div>
<div class="sect4">
<h5 id="illegal-instruction-decoding">3.6.1.4. Illegal instruction decoding</h5>
<div class="paragraph">
<p>The CVA6 decoder module detects illegal instructions for the CVA6, prepares exception field
with relevant information (exception code "ILLEGAL INSTRUCTION", instruction value).</p>
</div>
<div class="paragraph">
<p>The exception valid flag is raised in CVA6 decoder when CV-X-IF is disabled. Otherwise
it is not raised at this stage because the decision belongs to the coprocessor
after the offload process.</p>
</div>
</div>
<div class="sect4">
<h5 id="rs3-support">3.6.1.5. RS3 support</h5>
<div class="paragraph">
<p>The number of source registers used by the CV-X-IF coprocessor is configurable with 2 or
3 source registers.</p>
</div>
<div class="paragraph">
<p>If CV-X-IF is enabled and configured with 3 source registers,
a third read port is added to the CVA6 general purpose register file.</p>
</div>
</div>
<div class="sect4">
<h5 id="description-of-interface-connections-between-cva6-and-coprocessor">3.6.1.6. Description of interface connections between CVA6 and Coprocessor</h5>
<div class="paragraph">
<p>In CVA6 execute stage, there is a new functional unit dedicated to drive the CV-X-IF interfaces.
Here is <em>how</em> and <em>to what</em> CV-X-IF interfaces are connected to the CVA6.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Issue interface::</p>
<div class="ulist">
<ul>
<li>
<p>Request;;</p>
<div class="ulist">
<ul>
<li>
<p>[verse]&#8201;&#8212;&#8201;Operands are connected to <code>issue_req.rs</code> signals&#8201;&#8212;&#8201;</p>
</li>
<li>
<p>[verse]&#8201;&#8212;&#8201;Scoreboard transaction id is connected to <code>issue_req.id</code> signal.
Therefore scoreboard ids and offloaded instruction ids are linked
together (equal in this implementation). It allows the CVA6 to do out
of order execution with the coprocessor in the same way as other
functional units.&#8201;&#8212;&#8201;</p>
</li>
<li>
<p>[verse]&#8201;&#8212;&#8201;Undecoded instruction is connected to <code>issue_req.instruction</code>&#8201;&#8212;&#8201;</p>
</li>
<li>
<p>[verse]&#8201;&#8212;&#8201;Valid signal for CVXIF functional unit is connected to
<code>issue_req.valid</code>&#8201;&#8212;&#8201;</p>
</li>
<li>
<p>[verse]&#8201;&#8212;&#8201;All <code>issue_req.rs_valid</code> signals are set to 1. The validity of source
registers is assured by the validity of valid signal sent from issue stage.&#8201;&#8212;&#8201;</p>
</li>
</ul>
</div>
</li>
<li>
<p>Response;;</p>
<div class="ulist">
<ul>
<li>
<p>[verse]&#8201;&#8212;&#8201;If <code>issue_resp.accept</code> is set during a transaction (i.e. issue valid
and ready are set), the offloaded instruction is accepted by the coprocessor
and a result transaction will happen.&#8201;&#8212;&#8201;</p>
</li>
<li>
<p>[verse]&#8201;&#8212;&#8201;If <code>issue_resp.accept</code> is not set during a transaction, the offloaded
instruction is illegal and an illegal instruction exception will be
raised as soon as no result transaction are written on the writeback bus.&#8201;&#8212;&#8201;</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Commit interface::</p>
<div class="ulist">
<ul>
<li>
<p>[verse]&#8201;&#8212;&#8201;Valid signal of commit interface is connected to the valid signal of
issue interface.&#8201;&#8212;&#8201;</p>
</li>
<li>
<p>[verse]&#8201;&#8212;&#8201;Id signal of commit interface is connected to issue interface id signal
(i.e. scoreboard id).&#8201;&#8212;&#8201;</p>
</li>
<li>
<p>[verse]&#8201;&#8212;&#8201;Killing of offload instruction is never set. (Unsupported feature)&#8201;&#8212;&#8201;</p>
</li>
<li>
<p>[verse]&#8201;&#8212;&#8201;Therefore all accepted offloaded instructions are commited to their
execution and no killing of instruction is possible in this implementation.&#8201;&#8212;&#8201;</p>
</li>
</ul>
</div>
</li>
<li>
<p>Result interface::</p>
<div class="ulist">
<ul>
<li>
<p>Request;;</p>
<div class="ulist">
<ul>
<li>
<p>[verse]&#8201;&#8212;&#8201;Ready signal of result interface is always set as CVA6 is always ready
to take a result from coprocessor for an accepted offloaded instruction.&#8201;&#8212;&#8201;</p>
</li>
</ul>
</div>
</li>
<li>
<p>Response;;</p>
<div class="ulist">
<ul>
<li>
<p>[verse]&#8201;&#8212;&#8201;Result response is directly connected to writeback bus of the CV-X-IF
functionnal unit.&#8201;&#8212;&#8201;</p>
</li>
<li>
<p>[verse]&#8201;&#8212;&#8201;Valid signal of result interface is connected to valid signal of
writeback bus.&#8201;&#8212;&#8201;</p>
</li>
<li>
<p>[verse]&#8201;&#8212;&#8201;Id signal of result interface is connected to scoreboard id of
writeback bus.&#8201;&#8212;&#8201;</p>
</li>
<li>
<p>[verse]&#8201;&#8212;&#8201;Write enable signal of result interface is connected to a dedicated CV-X-IF WE
signal in CVA6 which signals scoreboard if a writeback should happen
or not to the CVA6 register file.&#8201;&#8212;&#8201;</p>
</li>
<li>
<p>[verse]&#8201;&#8212;&#8201;<code>exccode</code> and <code>exc</code> signal of result interface are connected to exception
signals of writeback bus. Exception from coprocessor does not write
the <code>tval</code> field in exception signal of writeback bus.&#8201;&#8212;&#8201;</p>
</li>
<li>
<p>[verse]&#8201;&#8212;&#8201;Three registers are added to hold illegal instruction information in
case a result transaction and a non-accepted issue transaction happen
in the same cycle. Result transactions will be written to the writeback
bus in this case having priority over the non-accepted instruction due
to being linked to an older offloaded instruction. Once the writeback
bus is free, an illegal instruction exception will be raised thanks to
information held in these three registers.&#8201;&#8212;&#8201;</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="coprocessor-recommendations-for-use-with-cva6s-cv-x-if">3.6.2. Coprocessor recommendations for use with CVA6&#8217;s CV-X-IF</h4>
<div class="paragraph">
<p>CVA6 supports all coprocessors supporting the CV-X-IF specification with the exception of :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Coprocessor requiring the Memory interface and Memory result interface (not implemented in CVA6 yet).::</p>
<div class="ulist">
<ul>
<li>
<p>All memory transaction should happen via the Issue interface, i.e. Load into CVA6 register file
then initialize an issue transaction.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Coprocessor requiring the Compressed interface (not implemented in CVA6 yet).::</p>
<div class="ulist">
<ul>
<li>
<p>RISC-V Compressed extension (RVC) is already implemented in CVA6 User Space for custom compressed instruction
is not big enough to have RVC and a custom compressed extension.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Stateful coprocessors.::</p>
<div class="ulist">
<ul>
<li>
<p>CVA6 will commit on the Commit interface all its issue transactions. Speculation
informations are only kept in the CVA6 and speculation process is only done in CVA6.
The coprocessor shall be stateless otherwise it will not be able to revert its state if CVA6 kills an
in-flight instruction (in case of mispredict or flush).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="how-to-use-cva6-without-cv-x-if-interface">3.6.3. How to use CVA6 without CV-X-IF interface</h4>
<div class="paragraph">
<p>Select a configuration with <code>CVA6ConfigCvxifEn</code> parameter disabled or change it for your configuration.</p>
</div>
<div class="paragraph">
<p>Never let the CV-X-IF interface unconnected with the <code>CVA6ConfigCvxifEn</code> parameter enabled.</p>
</div>
</div>
<div class="sect3">
<h4 id="how-to-design-a-coprocessor-for-the-cv-x-if-interface">3.6.4. How to design a coprocessor for the CV-X-IF interface</h4>
<div class="paragraph">
<p><em>The team is looking for a contributor to write this section.</em></p>
</div>
</div>
<div class="sect3">
<h4 id="how-to-program-a-cv-x-if-coprocessor">3.6.5. How to program a CV-X-IF coprocessor</h4>
<div class="paragraph">
<p><em>The team is looking for a contributor to write this section.</em></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="architecture-and-modules">4. Architecture and Modules</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The CV32A65X is fully synthesizable. It has been designed mainly for ASIC designs, but FPGA synthesis is supported as well.</p>
</div>
<div class="paragraph">
<p>For ASIC synthesis, the whole design is completely synchronous and uses positive-edge triggered flip-flops. The core occupies an area of about 80 kGE. The clock frequency can be more than 1GHz depending of technology.</p>
</div>
<div class="paragraph">
<p>The CV32A65X subsystem is composed of 8 modules.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/subsystems.png" alt="CV32A65X modules"></span></p>
</div>
<div class="paragraph">
<p>Connections between modules are illustrated in the following block diagram. FRONTEND, DECODE, ISSUE, EXECUTE, COMMIT and CONTROLLER are part of the pipeline. And CACHES implements the instruction and data caches and CSRFILE contains registers.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/CV32A65X_subsystems.png" alt="CV32A65X pipeline and modules"></span></p>
</div>
<div class="sect2">
<h3 id="CV32A6_FRONTEND">4.1. FRONTEND Module</h3>
<div class="sect3">
<h4 id="frontend-description">4.1.1. Description</h4>
<div class="paragraph">
<p>The FRONTEND module implements two first stages of the cva6 pipeline,
PC gen and Fetch stages.</p>
</div>
<div class="paragraph">
<p>PC gen stage is responsible for generating the next program counter.
It hosts a Branch Target Buffer (BTB), a Branch History Table (BHT) and a Return Address Stack (RAS) to speculate on control flow instructions.</p>
</div>
<div class="paragraph">
<p>Fetch stage requests data to the CACHE module, realigns the data to store them in instruction queue and transmits the instructions to the DECODE module.
FRONTEND can fetch up to 2 instructions per cycles when C extension instructions is enabled, but DECODE module decodes up to one instruction per cycles.</p>
</div>
<div class="paragraph">
<p>The module is connected to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CACHES module provides fethed instructions to FRONTEND.</p>
</li>
<li>
<p>DECODE module receives instructions from FRONTEND.</p>
</li>
<li>
<p>CONTROLLER module can order to flush and to halt FRONTEND PC gen stage</p>
</li>
<li>
<p>EXECUTE, CONTROLLER, CSR and COMMIT modules trigger PC jumping due to
a branch misprediction, an exception, a return from an exception, a
debug entry or a pipeline flush. They provides the PC next value.</p>
</li>
<li>
<p>CSR module states about debug mode.</p>
</li>
</ul>
</div>
<table id="_CVA6_frontend_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. <strong>frontend module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boot_addr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Next PC when reset</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flush requested by FENCE, mis-predict and exception</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>halt_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Halt requested by WFI and Accelerate port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>set_pc_commit_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set COMMIT PC as next PC requested by FENCE, CSR side-effect and Accelerate port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pc_commit_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COMMIT PC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COMMIT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ex_valid_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exception event</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COMMIT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resolved_branch_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mispredict event and next PC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EXECUTE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bp_resolve_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>eret_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return from exception event</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>epc_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Next PC when returning from exception</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trap_vector_base_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Next PC when jumping into exception</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>icache_dreq_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handshake between CACHE and FRONTEND (fetch)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">icache_dreq_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>icache_dreq_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handshake between CACHE and FRONTEND (fetch)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">icache_drsp_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fetch_entry_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handshake&#8217;s data between fetch and decode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fetch_entry_t[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fetch_entry_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handshake&#8217;s valid between fetch and decode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fetch_entry_ready_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handshake&#8217;s ready between fetch and decode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Due to cv32a65x configuration, some ports are tied to a static value. These ports do not appear in the above table, they are listed below</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">For any HW configuration,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>flush_bp_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As DebugEn = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>set_debug_pc_i</code> input is tied to 0</p>
</li>
<li>
<p><code>debug_mode_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="frontend-functionality">4.1.2. Functionality</h4>

</div>
<div class="sect3">
<h4 id="pc-generation-stage">4.1.3. PC Generation stage</h4>
<div class="paragraph">
<p>PC gen generates the next program counter. The next PC can originate from the following sources (listed in order of precedence):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Reset state:</strong> At reset, the PC is assigned to the boot address.</p>
</li>
<li>
<p><strong>Branch Prediction:</strong> The fetched instruction is predecoded by the
instr_scan submodule. When the instruction is a control flow, three
cases are considered:</p>
<div class="quoteblock">
<blockquote>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>When the instruction is a JALR which corresponds to a return (rs1 = x1 or rs1 = x5).
RAS provides next PC as a prediction.</p>
</li>
<li>
<p>When the instruction is a JALR which <strong>does not</strong> correspond to areturn.
If BTB (Branch Target Buffer) returns a valid address, then BTBpredicts next PC.
Else JALR is not considered as a control flow instruction, which will generate a mispredict.</p>
</li>
<li>
<p>When the instruction is a conditional branch.
If BHT (Branch History table) returns a valid address, then BHT predicts next PC.
Else the prediction depends on the PC relative jump offset sign: if sign is negative the prediction is taken, otherwise the prediction is not taken.</p>
</li>
</ol>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Then the PC gen informs the Fetch stage that it performed a prediction on the PC.</p>
</div>
</li>
<li>
<p><strong>Default:</strong> The next 32-bit block is fetched.
PC Gen fetches word boundary 32-bits block from CACHES module. And the fetch stage identifies the instructions from the 32-bits blocks.</p>
</li>
<li>
<p><strong>Mispredict:</strong> Misprediction are feedbacked by EX_STAGE module.
In any case we need to correct our action and start fetching from the correct address.</p>
</li>
<li>
<p><strong>Replay instruction fetch:</strong> When the instruction queue is full, the instr_queue submodule asks the fetch replay and provides the address to be replayed.</p>
</li>
<li>
<p><strong>Return from environment call:</strong> When CSR requests a return from an environment call, next PC takes the value of the PC of the instruction after the one pointed to by the mepc CSR.</p>
</li>
<li>
<p><strong>Exception/Interrupt:</strong> If an exception is triggered by CSR_REGISTER, next PC takes the value of the trap vector base address CSR.</p>
</li>
<li>
<p><strong>Pipeline starting fetching from COMMIT PC:</strong> When the commit stage is halted by a WFI instruction or when the pipeline has been flushed due to CSR change, next PC takes the value of the PC coming from the COMMIT submodule.
As CSR instructions do not exist in a compressed form, PC is unconditionally incremented by 4.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All program counters are logical addressed.</p>
</div>
</div>
<div class="sect3">
<h4 id="fetch-stage">4.1.4. Fetch Stage</h4>
<div class="paragraph">
<p>Fetch stage controls the CACHE module by a handshaking protocol.
Fetched data is a 32-bit block with a word-aligned address.
A granted fetch is processed by the instr_realign submodule to produce instructions.
Then instructions are pushed into an internal instruction FIFO called instruction queue (instr_queue submodule).
This submodule stores the instructions and sends them to the DECODE module.</p>
</div>
<div class="paragraph">
<p>Memory can feedback potential exceptions which can be bus errors, invalid accesses or instruction page faults.
The FRONTEND transmits the exception from CACHES to DECODE.</p>
</div>
</div>
<div class="sect3">
<h4 id="submodules">4.1.5. Submodules</h4>
<div class="paragraph">
<p><span class="image"><img src="../images/frontend_modules.png" alt="FRONTEND submodules"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/ZoominFrontend.png" alt="FRONTEND submodule interconnections"></span></p>
</div>
<div class="sect4">
<h5 id="instr_realign-submodule">4.1.5.1. Instr_realign submodule</h5>
<div class="paragraph">
<p>The 32-bit aligned block coming from the CACHE module enters the instr_realign submodule.
This submodule extracts the instructions from the 32-bit blocks.
It is possible to fetch up to two instructions per cycle when C extension is used.
An not-compressed instruction can be misaligned on the block size, interleaved with two cache blocks.
In that case, two cache accesses are needed to get the whole instruction.
The instr_realign submodule provides at maximum two instructions per cycle when compressed extensionis enabled, else one instruction per cycle.
Incomplete instruction is stored in instr_realign submodule until its second half is fetched.</p>
</div>
<table id="_CVA6_instr_realign_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. <strong>instr_realign module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fetch flush request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>valid_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32-bit block is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>serving_unaligned_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction is unaligned</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>address_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32-bit block address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32-bit block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.FETCH_WIDTH-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">instruction is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.INSTR_PER_FETCH-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>addr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.INSTR_PER_FETCH-1:0][CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>instr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">instr_scan&amp;instr_queue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.INSTR_PER_FETCH-1:0][31:0]</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="instr_queue-submodule">4.1.5.2. Instr_queue submodule</h5>
<div class="paragraph">
<p>The instr_queue receives mutliple instructions from instr_realign submodule to create a valid stream of instructions to be decoded (by DECODE), to be issued (by ISSUE) and executed (by EXECUTE).
FRONTEND pushes in FIFO to store the instructions and related information needed in case of mispredict or exception: instructions, instruction control flow type, exception, exception address and predicted address.
DECODE pops them when decode stage is ready and indicates to the FRONTEND the instruction has been consummed.</p>
</div>
<div class="paragraph">
<p>The instruction queue contains max 4 instructions.
If the instruction queue is full, a replay request is sent to inform the fetch mechanism to replay the fetch.</p>
</div>
<div class="paragraph">
<p>The instruction queue can be flushed by CONTROLLER.</p>
</div>
<table id="_CVA6_instr_queue_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. <strong>instr_queue module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fetch flush request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>instr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">instr_realign</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.INSTR_PER_FETCH-1:0][31:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>addr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">instr_realign</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.INSTR_PER_FETCH-1:0][CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>valid_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">instr_realign</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.INSTR_PER_FETCH-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ready_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handshake’s ready with CACHE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>consumed_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates instructions consummed, or popped by ID_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.INSTR_PER_FETCH-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>exception_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exception (which is page-table fault)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ariane_pkg::frontend_exception_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>exception_addr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exception address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>predict_address_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Branch predict</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cf_type_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction predict address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ariane_pkg::cf_t[CVA6Cfg.INSTR_PER_FETCH-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>replay_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replay instruction because one of the FIFO was  full</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>replay_addr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address at which to replay the fetch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fetch_entry_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handshake’s data with ID_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fetch_entry_t[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fetch_entry_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handshake’s valid with ID_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fetch_entry_ready_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handshake’s ready with ID_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Due to cv32a65x configuration, some ports are tied to a static value. These ports do not appear in the above table, they are listed below</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">As RVH = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>exception_gpaddr_i</code> input is tied to 0</p>
</li>
<li>
<p><code>exception_tinst_i</code> input is tied to 0</p>
</li>
<li>
<p><code>exception_gva_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="instr_scan-submodule">4.1.5.3. instr_scan submodule</h5>
<div class="paragraph">
<p>As compressed extension is enabled, two instr_scan are instantiated to handle up to two instructions per cycle.</p>
</div>
<div class="paragraph">
<p>Each instr_scan submodule pre-decodes the fetched instructions coming from the instr_realign module, instructions could be compressed or not.
The instr_scan submodule is a flox controler which provides the intruction type: branch, jump, return, jalr, imm, call or others.
These outputs are used by the branch prediction feature.</p>
</div>
<table id="_CVA6_instr_scan_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. <strong>instr_scan module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>instr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction to be predecoded</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">instr_realign</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[31:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rvi_return_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rvi_call_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JAL instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rvi_branch_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Branch instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rvi_jalr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JALR instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rvi_jump_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unconditional jump instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rvi_imm_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction immediat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rvc_branch_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Branch compressed instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rvc_jump_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unconditional jump compressed instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rvc_jr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JR compressed instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rvc_return_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return compressed instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rvc_jalr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JALR compressed instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rvc_call_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JAL compressed instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rvc_imm_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction compressed immediat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="bht-branch-history-table-submodule">4.1.5.4. BHT (Branch History Table) submodule</h5>
<div class="paragraph">
<p>BHT is implemented as a memory which is composed of <strong>BHTDepth configuration parameter</strong> entries. The lower address bits of the virtual address point to the memory entry.</p>
</div>
<div class="paragraph">
<p>When a branch instruction is resolved by the EX_STAGE module, the branch PC and the taken (or not taken) status information is stored in the Branch History Table.</p>
</div>
<div class="paragraph">
<p>The Branch History Table is a table of two-bit saturating counters that takes the virtual address of the current fetched instruction by the CACHE.
It states whether the current branch request should be taken or not.
The two bit counter is updated by the successive execution of the instructions as shown in the following figure.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/bht.png" alt="BHT saturation"></span></p>
</div>
<div class="paragraph">
<p>When a branch instruction is pre-decoded by instr_scan submodule, the BHT valids whether the PC address is in the BHT and provides the taken or not prediction.</p>
</div>
<div class="paragraph">
<p>The BHT is never flushed.</p>
</div>
<table id="_CVA6_bht_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. <strong>bht module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vpc_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Virtual PC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bht_update_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update bht with resolved address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EXECUTE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bht_update_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bht_prediction_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prediction from bht</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ariane_pkg::bht_prediction_t[CVA6Cfg.INSTR_PER_FETCH-1:0]</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Due to cv32a65x configuration, some ports are tied to a static value. These ports do not appear in the above table, they are listed below</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">For any HW configuration,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>flush_bp_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As DebugEn = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>debug_mode_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="btb-branch-target-buffer-submodule">4.1.5.5. BTB (Branch Target Buffer) submodule</h5>
<div class="paragraph">
<p>BTB is implemented as an array which is composed of <strong>BTBDepth configuration parameter</strong> entries.
The lower address bits of the virtual address point to the memory entry.</p>
</div>
<div class="paragraph">
<p>When an JALR instruction is found mispredicted by the EX_STAGE module, the JALR PC and the target address are stored into the BTB.</p>
</div>
<div class="paragraph">
<p>When a JALR instruction is pre-decoded by instr_scan submodule, the BTB informs whether the input PC address is in the BTB.
In this case, the BTB provides the predicted target address.</p>
</div>
<div class="paragraph">
<p>The BTB is never flushed.</p>
</div>
<table id="_CVA6_btb_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. <strong>btb module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vpc_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Virtual PC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>btb_update_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update BTB with resolved address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EXECUTE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">btb_update_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>btb_prediction_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BTB Prediction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">btb_prediction_t[CVA6Cfg.INSTR_PER_FETCH-1:0]</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Due to cv32a65x configuration, some ports are tied to a static value. These ports do not appear in the above table, they are listed below</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">For any HW configuration,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>flush_bp_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As DebugEn = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>debug_mode_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="ras-return-address-stack-submodule">4.1.5.6. RAS (Return Address Stack) submodule</h5>
<div class="paragraph">
<p>RAS is implemented as a LIFO which is composed of <strong>RASDepth configuration parameter</strong> entries.</p>
</div>
<div class="paragraph">
<p>When a JAL instruction is pre-decoded by the instr_scan, the PC of the instruction following JAL instruction is pushed into the RAS when the JAL instruction is added to the instruction queue.</p>
</div>
<div class="paragraph">
<p>When a JALR instruction which corresponds to a return (rs1 = x1 or rs1 = x5) is pre-decoded by the instr_scan, the predicted return address is popped from the RAS when the JALR instruction is added to the instruction queue.
If the predicted return address is wrong due for instance to speculation or RAS depth limitation, a mis-repdiction will be generated.</p>
</div>
<div class="paragraph">
<p>The RAS is never flushed.</p>
</div>
<table id="_CVA6_ras_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. <strong>ras module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>push_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Push address in RAS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pop_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pop address from RAS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data to be pushed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Popped data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ras_t</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Due to cv32a65x configuration, some ports are tied to a static value. These ports do not appear in the above table, they are listed below</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">For any HW configuration,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>flush_bp_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="CVA6_ID_STAGE">4.2. ID_STAGE Module</h3>
<div class="sect3">
<h4 id="id_stage-description">4.2.1. Description</h4>
<div class="paragraph">
<p>The ID_STAGE module implements the decode stage of the pipeline. Its
main purpose is to decode RISC-V instructions coming from FRONTEND
module (fetch stage) and send them to the ISSUE_STAGE module (issue
stage).</p>
</div>
<div class="paragraph">
<p>The compressed_decoder module checks whether the incoming instruction is
compressed and output the corresponding uncompressed instruction. Then
the decoder module decodes the instruction and send it to the issue
stage.</p>
</div>
<div class="paragraph">
<p>The module is connected to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CONTROLLER module can flush ID_STAGE decode stage</p>
</li>
<li>
<p>FRONTEND module sends instrution to ID_STAGE module</p>
</li>
<li>
<p>ISSUE module receives the decoded instruction from ID_STAGE module</p>
</li>
<li>
<p>CSR_REGFILE module sends status information about privilege mode,
traps, extension support.</p>
</li>
</ul>
</div>
<table id="_CVA6_id_stage_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 10. <strong>id_stage module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fetch flush request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fetch_entry_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handshake&#8217;s data between fetch and decode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fetch_entry_t[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fetch_entry_valid_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handshake&#8217;s valid between fetch and decode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fetch_entry_ready_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handshake&#8217;s ready between fetch and decode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>issue_entry_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handshake&#8217;s data between decode and issue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scoreboard_entry_t[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>orig_instr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0][31:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>issue_entry_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handshake&#8217;s valid between decode and issue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>is_ctrl_flow_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Report if instruction is a control flow instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>issue_instr_ack_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handshake&#8217;s acknowlege between decode and issue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>irq_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Level sensitive (async) interrupts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>irq_ctrl_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interrupt control status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR_REGFILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">irq_ctrl_t</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Due to cv32a65x configuration, some ports are tied to a static value. These ports do not appear in the above table, they are listed below</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">As DebugEn = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>debug_req_i</code> input is tied to 0</p>
</li>
<li>
<p><code>debug_mode_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As IsRVFI = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>rvfi_is_compressed_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As PRIV = MachineOnly,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>priv_lvl_i</code> input is tied to MachineMode</p>
</li>
<li>
<p><code>tvm_i</code> input is tied to 0</p>
</li>
<li>
<p><code>tw_i</code> input is tied to 0</p>
</li>
<li>
<p><code>tsr_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As RVH = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>v_i</code> input is tied to 0</p>
</li>
<li>
<p><code>vfs_i</code> input is tied to 0</p>
</li>
<li>
<p><code>vtw_i</code> input is tied to 0</p>
</li>
<li>
<p><code>hu_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As RVF = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>fs_i</code> input is tied to 0</p>
</li>
<li>
<p><code>frm_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As RVV = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>vs_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="id_stage-functionality">4.2.2. Functionality</h4>
<div class="paragraph">
<p>TO BE COMPLETED</p>
</div>
</div>
<div class="sect3">
<h4 id="id_stage-submodules">4.2.3. Submodules</h4>
<div class="paragraph">
<p><span class="image"><img src="../images/id_stage_modules.png" alt="ID_STAGE submodules"></span></p>
</div>
<div class="sect4">
<h5 id="compressed_decoder">4.2.3.1. Compressed_decoder</h5>
<div class="paragraph">
<p>The compressed_decoder module decompresses all the compressed
instructions taking a 16-bit compressed instruction and expanding it to
its 32-bit equivalent. All compressed instructions have a 32-bit
equivalent.</p>
</div>
<table id="_CVA6_compressed_decoder_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 11. <strong>compressed_decoder module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>instr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Input instruction coming from fetch stage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[31:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>instr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Output instruction in uncompressed format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">decoder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[31:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>illegal_instr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Input instruction is illegal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">decoder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>is_macro_instr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Output instruction is macro</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">decoder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>is_compressed_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Output instruction is compressed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">decoder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="decoder">4.2.3.2. Decoder</h5>
<div class="paragraph">
<p>The decoder module takes the output of compressed_decoder module and
decodes it. It transforms the instruction to the most fundamental
control structure in pipeline, a scoreboard entry.</p>
</div>
<div class="paragraph">
<p>The scoreboard entry contains an exception entry which is composed of a
valid field, a cause and a value called TVAL. As TVALEn configuration
parameter is zero, the TVAL field is not implemented.</p>
</div>
<div class="paragraph">
<p>A potential illegal instruction exception can be detected during
decoding. If no exception has happened previously in fetch stage, the
decoder will valid the exception and add the cause and tval value to the
scoreboard entry.</p>
</div>
<table id="_CVA6_decoder_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 12. <strong>decoder module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pc_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PC from fetch stage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>is_compressed_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is a compressed instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">compressed_decoder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>compressed_instr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compressed form of instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[15:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>is_illegal_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Illegal compressed instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">compressed_decoder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>instruction_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction from fetch stage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[31:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>is_macro_instr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is a macro instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">macro_decoder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>is_last_macro_instr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is a last macro instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">macro_decoder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>is_double_rd_macro_instr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is mvsa01/mva01s macro instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">macro_decoder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>branch_predict_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is a branch predict instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">branchpredict_sbe_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ex_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If an exception occured in fetch stage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exception_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>irq_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Level sensitive (async) interrupts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>irq_ctrl_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interrupt control status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR_REGFILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">irq_ctrl_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>instruction_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction to be added to scoreboard entry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scoreboard_entry_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>orig_instr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[31:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>is_control_flow_instr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is a control flow instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Due to cv32a65x configuration, some ports are tied to a static value. These ports do not appear in the above table, they are listed below</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">As DebugEn = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>debug_req_i</code> input is tied to 0</p>
</li>
<li>
<p><code>debug_mode_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As PRIV = MachineOnly,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>priv_lvl_i</code> input is tied to MachineMode</p>
</li>
<li>
<p><code>tvm_i</code> input is tied to 0</p>
</li>
<li>
<p><code>tw_i</code> input is tied to 0</p>
</li>
<li>
<p><code>tsr_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As RVH = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>v_i</code> input is tied to 0</p>
</li>
<li>
<p><code>vfs_i</code> input is tied to 0</p>
</li>
<li>
<p><code>vtw_i</code> input is tied to 0</p>
</li>
<li>
<p><code>hu_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As RVF = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>fs_i</code> input is tied to 0</p>
</li>
<li>
<p><code>frm_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As RVV = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>vs_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="CVA6_ISSUE_STAGE">4.3. ISSUE_STAGE Module</h3>
<div class="sect3">
<h4 id="issue_stage-description">4.3.1. Description</h4>
<div class="paragraph">
<p>The execution can be roughly divided into four parts: issue(1), read
operands(2), execute(3) and write-back(4). The ISSUE_STAGE module
handles step one, two and four. The ISSUE_STAGE module receives the
decoded instructions and issues them to the various functional units.</p>
</div>
<div class="paragraph">
<p>A data structure called scoreboard is used to keep track of data related
to the issue instruction: which functional unit and which destination
register they are. The scoreboard handle the write-back data received
from the COMMIT_STAGE module.</p>
</div>
<div class="paragraph">
<p>Furthermore it contains the CPU’s register file.</p>
</div>
<div class="paragraph">
<p>The module is connected to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>TO BE COMPLETED</p>
</li>
</ul>
</div>
<table id="_CVA6_issue_stage_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 13. <strong>issue_stage module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_unissued_instr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>decoded_instr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handshake&#8217;s data with decode stage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scoreboard_entry_t[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>orig_instr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">instruction value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0][31:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>decoded_instr_valid_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handshake&#8217;s valid with decode stage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>is_ctrl_flow_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is instruction a control flow instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>decoded_instr_ack_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handshake&#8217;s acknowlege with decode stage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rs1_forwarding_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs1 forwarding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[CVA6Cfg.NrIssuePorts-1:0][CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rs2_forwarding_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs2 forwarding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[CVA6Cfg.NrIssuePorts-1:0][CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fu_data_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FU data useful to execute instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fu_data_t[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pc_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Program Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>is_compressed_instr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is compressed instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flu_ready_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fixed Latency Unit is ready</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>alu_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ALU FU is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resolve_branch_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Signaling that we resolved the branch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lsu_ready_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load store unit FU is ready</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lsu_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load store unit FU is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>branch_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Branch unit is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>branch_predict_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information of branch prediction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">branchpredict_sbe_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mult_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult FU is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>alu2_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ALU2 FU is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>csr_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x_issue_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CVXIF FU is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x_issue_ready_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CVXIF is FU ready</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x_off_instr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CVXIF offloader instruction value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[31:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trans_id_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrWbPorts-1:0][CVA6Cfg.TRANS_ID_BITS-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resolved_branch_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The branch engine uses the write back from the ALU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bp_resolve_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>wbdata_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrWbPorts-1:0][CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ex_ex_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exception from execute stage or CVXIF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exception_t[CVA6Cfg.NrWbPorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>wt_valid_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrWbPorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x_we_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CVXIF write enable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>waddr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrCommitPorts-1:0][4:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>wdata_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrCommitPorts-1:0][CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>we_gpr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GPR write enable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrCommitPorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit_instr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instructions to commit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COMMIT_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scoreboard_entry_t[CVA6Cfg.NrCommitPorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit_drop_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction is cancelled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COMMIT_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrCommitPorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit_ack_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commit acknowledge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COMMIT_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrCommitPorts-1:0]</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Due to cv32a65x configuration, some ports are tied to a static value. These ports do not appear in the above table, they are listed below</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">As PerfCounterEn = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>sb_full_o</code> output is tied to 0</p>
</li>
<li>
<p><code>stall_issue_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As EnableAccelerator = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>stall_i</code> input is tied to 0</p>
</li>
<li>
<p><code>issue_instr_o</code> output is tied to 0</p>
</li>
<li>
<p><code>issue_instr_hs_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As RVH = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>tinst_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As RVF = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>fpu_ready_i</code> input is tied to 0</p>
</li>
<li>
<p><code>fpu_valid_o</code> output is tied to 0</p>
</li>
<li>
<p><code>fpu_fmt_o</code> output is tied to 0</p>
</li>
<li>
<p><code>fpu_rm_o</code> output is tied to 0</p>
</li>
<li>
<p><code>we_fpr_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As IsRVFI = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>rvfi_issue_pointer_o</code> output is tied to 0</p>
</li>
<li>
<p><code>rvfi_commit_pointer_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="issue_stage-functionality">4.3.2. Functionality</h4>
<div class="paragraph">
<p>TO BE COMPLETED</p>
</div>
</div>
<div class="sect3">
<h4 id="issue_stage-submodules">4.3.3. Submodules</h4>
<div class="paragraph">
<p><span class="image"><img src="../images/issue_stage_modules.png" alt="ISSUE_STAGE submodules"></span></p>
</div>
<div class="sect4">
<h5 id="scoreboard">4.3.3.1. Scoreboard</h5>
<div class="paragraph">
<p>The scoreboard contains a FIFO to store the decoded instructions. Issued
instruction is pushed to the FIFO if it is not full. It indicates which
registers are going to be clobbered by a previously issued instruction.</p>
</div>
<table id="_CVA6_scoreboard_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 14. <strong>scoreboard module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sb_full_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_unissued_instr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flush only un-issued instructions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flush whole scoreboard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rd_clobber_gpr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ariane_pkg::fu_t[2**ariane_pkg::REG_ADDR_SIZE-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rd_clobber_fpr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ariane_pkg::fu_t[2**ariane_pkg::REG_ADDR_SIZE-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rs1_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs1 operand address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">issue_read_operands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0][ariane_pkg::REG_ADDR_SIZE-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rs1_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs1 operand</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">issue_read_operands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0][CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rs1_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs1 operand is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">issue_read_operands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rs2_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs2 operand address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">issue_read_operands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0][ariane_pkg::REG_ADDR_SIZE-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rs2_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs2 operand</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">issue_read_operands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0][CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rs2_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs2 operand is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">issue_read_operands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rs3_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs3 operand address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">issue_read_operands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0][ariane_pkg::REG_ADDR_SIZE-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rs3_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs3 operand</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">issue_read_operands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs3_len_t[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rs3_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs3 operand is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">issue_read_operands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit_instr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scoreboard_entry_t[CVA6Cfg.NrCommitPorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit_drop_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrCommitPorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit_ack_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrCommitPorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>decoded_instr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scoreboard_entry_t[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>orig_instr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0][31:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>decoded_instr_valid_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>decoded_instr_ack_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>orig_instr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0][31:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>issue_instr_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>issue_ack_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resolved_branch_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bp_resolve_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trans_id_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction ID at which to write the result back</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrWbPorts-1:0][CVA6Cfg.TRANS_ID_BITS-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>wbdata_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Results to write back</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrWbPorts-1:0][CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ex_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exception from a functional unit (e.g.: ld/st exception)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exception_t[CVA6Cfg.NrWbPorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>wt_valid_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates valid results</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrWbPorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x_we_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cvxif we for writeback</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Due to cv32a65x configuration, some ports are tied to a static value. These ports do not appear in the above table, they are listed below</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">As EnableAccelerator = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>issue_instr_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As IsRVFI = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>rvfi_issue_pointer_o</code> output is tied to 0</p>
</li>
<li>
<p><code>rvfi_commit_pointer_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="issue_read_operands">4.3.3.2. Issue_read_operands</h5>
<div class="paragraph">
<p>TO BE COMPLETED</p>
</div>
<table id="_CVA6_issue_read_operands_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 15. <strong>issue_read_operands module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flush</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>issue_instr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scoreboard_entry_t[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>orig_instr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0][31:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>issue_instr_valid_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>issue_ack_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Issue stage acknowledge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rs1_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs1 operand address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scoreboard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0][REG_ADDR_SIZE-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rs1_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs1 operand</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scoreboard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0][CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rs1_valid_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs1 operand is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scoreboard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rs2_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs2 operand address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scoreboard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0][REG_ADDR_SIZE-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rs2_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs2 operand</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scoreboard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0][CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rs2_valid_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs2 operand is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scoreboard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rs3_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs3 operand address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scoreboard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0][REG_ADDR_SIZE-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rs3_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs3 operand</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scoreboard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs3_len_t[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rs3_valid_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs3 operand is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scoreboard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rd_clobber_gpr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fu_t[2**REG_ADDR_SIZE-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rd_clobber_fpr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fu_t[2**REG_ADDR_SIZE-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fu_data_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fu_data_t[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rs1_forwarding_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unregistered version of fu_data_o.operanda</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0][CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rs2_forwarding_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unregistered version of fu_data_o.operandb</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0][CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pc_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction pc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>is_compressed_instr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is compressed instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flu_ready_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fixed Latency Unit ready to accept new request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>alu_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ALU output is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>branch_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Branch instruction is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>branch_predict_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">branchpredict_sbe_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lsu_ready_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load Store Unit is ready</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lsu_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load Store Unit result is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mult_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult result is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>alu2_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ALU output is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>csr_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR result is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cvxif_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CVXIF result is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrIssuePorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cvxif_ready_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CVXIF is ready</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cvxif_off_instr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CVXIF offloaded instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[31:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>waddr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrCommitPorts-1:0][4:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>wdata_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrCommitPorts-1:0][CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>we_gpr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrCommitPorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>stall_issue_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stall signal, we do not want to fetch any more entries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Due to cv32a65x configuration, some ports are tied to a static value. These ports do not appear in the above table, they are listed below</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">As EnableAccelerator = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>stall_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As RVH = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>tinst_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As RVF = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>fpu_ready_i</code> input is tied to 0</p>
</li>
<li>
<p><code>fpu_valid_o</code> output is tied to 0</p>
</li>
<li>
<p><code>fpu_fmt_o</code> output is tied to 0</p>
</li>
<li>
<p><code>fpu_rm_o</code> output is tied to 0</p>
</li>
<li>
<p><code>we_fpr_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="CVA6_EX_STAGE">4.4. EX_STAGE Module</h3>
<div class="sect3">
<h4 id="ex_stage-description">4.4.1. Description</h4>
<div class="paragraph">
<p>The EX_STAGE module is a logical stage which implements the execute stage.
It encapsulates the following functional units: ALU, Branch Unit, CSR buffer, Mult, load and store and CVXIF.</p>
</div>
<div class="paragraph">
<p>The module is connected to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ID_STAGE module provides scoreboard entry.
*</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="ex_stage-functionality">4.4.2. Functionality</h4>
<div class="paragraph">
<p>TO BE COMPLETED</p>
</div>
</div>
<div class="sect3">
<h4 id="ex_stage-submodules">4.4.3. Submodules</h4>
<div class="paragraph">
<p><span class="image"><img src="../images/ex_stage_modules.png" alt="EX_STAGE submodules"></span></p>
</div>
<div class="sect4">
<h5 id="alu">4.4.3.1. alu</h5>
<div class="paragraph">
<p>The arithmetic logic unit (ALU) is a small piece of hardware which performs 32 and 64-bit arithmetic and bitwise operations: subtraction, addition, shifts, comparisons&#8230;&#8203;
It always completes its operation in a single cycle.</p>
</div>
<table id="_CVA6_alu_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 16. <strong>alu module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fu_data_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FU data needed to execute instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fu_data_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>result_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ALU result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>alu_branch_res_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ALU branch compare result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">branch_unit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="branch_unit">4.4.3.2. branch_unit</h5>
<div class="paragraph">
<p>The branch unit module manages all kinds of control flow changes i.e.: conditional and unconditional jumps.
It calculates the target address and decides whether to take the branch or not.
It also decides if a branch was mis-predicted or not and reports corrective actions to the pipeline stages.</p>
</div>
<table id="_CVA6_branch_unit_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 17. <strong>branch_unit module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fu_data_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FU data needed to execute instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fu_data_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pc_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction PC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>is_compressed_instr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction is compressed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>branch_valid_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Branch unit instruction is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>branch_comp_res_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ALU branch compare result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ALU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>branch_result_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Brach unit result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>branch_predict_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information of branch prediction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">branchpredict_sbe_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resolved_branch_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Signaling that we resolved the branch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bp_resolve_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resolve_branch_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Branch is resolved, new entries can be accepted by scoreboard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>branch_exception_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Branch exception out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exception_t</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Due to cv32a65x configuration, some ports are tied to a static value. These ports do not appear in the above table, they are listed below</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">As RVH = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>v_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As DebugEn = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>debug_mode_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="csr_buffer">4.4.3.3. CSR_buffer</h5>
<div class="paragraph">
<p>The CSR buffer module stores the CSR address at which the instruction is going to read/write.
As the CSR instruction alters the processor architectural state, this instruction has to be buffered until the commit stage decides to execute the instruction.</p>
</div>
<table id="_CVA6_csr_buffer_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 18. <strong>csr_buffer module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flush CSR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fu_data_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FU data needed to execute instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fu_data_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>csr_ready_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR FU is ready</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>csr_valid_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR instruction is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>csr_result_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR buffer result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>csr_commit_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">commit the pending CSR OP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>csr_addr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR address to write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COMMIT_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[11:0]</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="mult">4.4.3.4. mult</h5>
<div class="paragraph">
<p>The multiplier module supports the division and multiplication operations.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/mult_modules.png" alt="mult submodules"></span></p>
</div>
<table id="_CVA6_mult_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 19. <strong>mult module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flush</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fu_data_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FU data needed to execute instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fu_data_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mult_valid_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult instruction is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>result_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mult_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult result is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mult_ready_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mutl is ready</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mult_trans_id_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult transaction ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.TRANS_ID_BITS-1:0]</p></td>
</tr>
</tbody>
</table>
<div class="sect5">
<h6 id="multiplier">4.4.3.4.1. multiplier</h6>
<div class="paragraph">
<p>Multiplication is performed in two cycles and is fully pipelined.</p>
</div>
<table id="_CVA6_multiplier_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 20. <strong>multiplier module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trans_id_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiplier transaction ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.TRANS_ID_BITS-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mult_valid_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiplier instruction is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>operation_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiplier operation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fu_op</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>operand_a_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A operand</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>operand_b_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">B operand</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>result_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiplier result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mult_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mutliplier result is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mult_ready_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiplier FU is ready</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mult_trans_id_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiplier transaction ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.TRANS_ID_BITS-1:0]</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="serdiv">4.4.3.4.2. serdiv</h6>
<div class="paragraph">
<p>The division is a simple serial divider which needs 64 cycles in the worst case.</p>
</div>
<table id="_CVA6_serdiv_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 21. <strong>serdiv module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Serdiv translation ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.TRANS_ID_BITS-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>op_a_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A operand</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[WIDTH-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>op_b_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">B operand</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[WIDTH-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rem</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Serdiv operation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[1:0]opcode_i,//0:udiv,2:urem,1:div,3:</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>in_vld_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Serdiv instruction is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>in_rdy_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Serdiv FU is ready</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flush</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>out_vld_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Serdiv result is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>out_rdy_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Serdiv is ready</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Serdiv transaction ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.TRANS_ID_BITS-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>res_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Serdiv result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mult</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[WIDTH-1:0]</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect4">
<h5 id="load_store_unit-lsu">4.4.3.5. load_store_unit (LSU)</h5>
<div class="paragraph">
<p>The load store module interfaces with the data cache (D$) to manage the load and store operations.</p>
</div>
<div class="paragraph">
<p>The LSU does not handle misaligned accesses.
Misaligned accesses are double word accesses which are not aligned to a 64-bit boundary, word accesses which are not aligned to a 32-bit boundary and half word accesses which are not aligned on 16-bit boundary.
If the LSU encounters a misaligned load or store, it throws a misaligned exception.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/load_store_unit_modules.png" alt="load_store_unit submodules"></span></p>
</div>
<table id="_CVA6_load_store_unit_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 22. <strong>load_store_unit module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>stall_st_pending_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>no_st_pending_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fu_data_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FU data needed to execute instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fu_data_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lsu_ready_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load Store Unit is ready</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lsu_valid_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load Store Unit instruction is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>load_trans_id_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load transaction ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.TRANS_ID_BITS-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>load_result_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>load_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load result is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>load_exception_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load exception</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exception_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>store_trans_id_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Store transaction ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.TRANS_ID_BITS-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>store_result_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Store result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>store_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Store result is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>store_exception_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Store exception</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exception_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commit the first pending store</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit_ready_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commit queue is ready to accept another commit request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit_tran_id_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commit transaction ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.TRANS_ID_BITS-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>icache_areq_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction cache input request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">icache_arsp_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>icache_areq_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction cache output request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">icache_areq_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dcache_req_ports_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data cache request output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dcache_req_o_t[2:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dcache_req_ports_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data cache request input</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dcache_req_i_t[2:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dcache_wbuffer_empty_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dcache_wbuffer_not_ni_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pmpcfg_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMP configuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR_REGFILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">riscv::pmpcfg_t[CVA6Cfg.NrPMPEntries:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pmpaddr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PMP address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR_REGFILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrPMPEntries:0][CVA6Cfg.PLEN-3:0]</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Due to cv32a65x configuration, some ports are tied to a static value. These ports do not appear in the above table, they are listed below</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">As RVA = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>amo_valid_commit_i</code> input is tied to 0</p>
</li>
<li>
<p><code>amo_req_o</code> output is tied to 0</p>
</li>
<li>
<p><code>amo_resp_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As RVH = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>tinst_i</code> input is tied to 0</p>
</li>
<li>
<p><code>enable_g_translation_i</code> input is tied to 0</p>
</li>
<li>
<p><code>en_ld_st_g_translation_i</code> input is tied to 0</p>
</li>
<li>
<p><code>v_i</code> input is tied to 0</p>
</li>
<li>
<p><code>ld_st_v_i</code> input is tied to 0</p>
</li>
<li>
<p><code>csr_hs_ld_st_inst_o</code> output is tied to 0</p>
</li>
<li>
<p><code>vs_sum_i</code> input is tied to 0</p>
</li>
<li>
<p><code>vmxr_i</code> input is tied to 0</p>
</li>
<li>
<p><code>vsatp_ppn_i</code> input is tied to 0</p>
</li>
<li>
<p><code>vs_asid_i</code> input is tied to 0</p>
</li>
<li>
<p><code>hgatp_ppn_i</code> input is tied to 0</p>
</li>
<li>
<p><code>vmid_i</code> input is tied to 0</p>
</li>
<li>
<p><code>vmid_to_be_flushed_i</code> input is tied to 0</p>
</li>
<li>
<p><code>gpaddr_to_be_flushed_i</code> input is tied to 0</p>
</li>
<li>
<p><code>flush_tlb_vvma_i</code> input is tied to 0</p>
</li>
<li>
<p><code>flush_tlb_gvma_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As RVS = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>enable_translation_i</code> input is tied to 0</p>
</li>
<li>
<p><code>en_ld_st_translation_i</code> input is tied to 0</p>
</li>
<li>
<p><code>sum_i</code> input is tied to 0</p>
</li>
<li>
<p><code>mxr_i</code> input is tied to 0</p>
</li>
<li>
<p><code>satp_ppn_i</code> input is tied to 0</p>
</li>
<li>
<p><code>asid_i</code> input is tied to 0</p>
</li>
<li>
<p><code>asid_to_be_flushed_i</code> input is tied to 0</p>
</li>
<li>
<p><code>vaddr_to_be_flushed_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As PRIV = MachineOnly,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>priv_lvl_i</code> input is tied to MachineMode</p>
</li>
<li>
<p><code>ld_st_priv_lvl_i</code> input is tied to MAchineMode</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As MMUPresent = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>flush_tlb_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As PerfCounterEn = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>itlb_miss_o</code> output is tied to 0</p>
</li>
<li>
<p><code>dtlb_miss_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As IsRVFI = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>rvfi_lsu_ctrl_o</code> output is tied to 0</p>
</li>
<li>
<p><code>rvfi_mem_paddr_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect5">
<h6 id="store_unit">4.4.3.5.1. store_unit</h6>
<div class="paragraph">
<p>The store_unit module manages the data store operations.</p>
</div>
<div class="paragraph">
<p>As stores can be speculative, the store instructions need to be committed by ISSUE_STAGE module before possibily altering the processor state.
Store buffer keeps track of store requests.
Outstanding store instructions (which are speculative) are differentiated from committed stores.
When ISSUE_STAGE module commits a store instruction, outstanding stores
become committed.</p>
</div>
<div class="paragraph">
<p>When commit buffer is not empty, the buffer automatically tries to write the oldest store to the data cache.</p>
</div>
<div class="paragraph">
<p>Furthermore, the store_unit module provides information to the load_unit to know if an outstanding store matches addresses with a load.</p>
</div>
<table id="_CVA6_store_unit_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 23. <strong>store_unit module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flush</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>stall_st_pending_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>no_st_pending_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>store_buffer_empty_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Store buffer is empty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>valid_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Store instruction is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lsu_ctrl_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data input</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lsu_ctrl_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pop_st_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction commit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit_ready_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Store result is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trans_id_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.TRANS_ID_BITS-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>result_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Store result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ex_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Store exception output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exception_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>translation_req_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address translation request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vaddr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Virtual address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>paddr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Physical address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.PLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ex_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exception raised before store</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exception_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>page_offset_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address to be checked</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">load_unit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[11:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>page_offset_matches_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address check result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">load_unit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>req_port_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data cache request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dcache_req_o_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>req_port_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data cache response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dcache_req_i_t</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Due to cv32a65x configuration, some ports are tied to a static value. These ports do not appear in the above table, they are listed below</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">As RVA = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>amo_valid_commit_i</code> input is tied to 0</p>
</li>
<li>
<p><code>amo_req_o</code> output is tied to 0</p>
</li>
<li>
<p><code>amo_resp_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As IsRVFI = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>rvfi_mem_paddr_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As RVH = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>tinst_o</code> output is tied to 0</p>
</li>
<li>
<p><code>hs_ld_st_inst_o</code> output is tied to 0</p>
</li>
<li>
<p><code>hlvx_inst_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">For any HW configuration,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>dtlb_hit_i</code> input is tied to 1</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect5">
<h6 id="load_unit">4.4.3.5.2. load_unit</h6>
<div class="paragraph">
<p>The load_unit module manages the data load operations.</p>
</div>
<div class="paragraph">
<p>Before issuing a load, the load unit needs to check the store buffer for potential aliasing.
It inserts stalls until it can satisfy the current request. This means:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Two loads to the same address are allowed.</p>
</li>
<li>
<p>Two stores to the same address are allowed.</p>
</li>
<li>
<p>A store followed by a load to the same address can only be satisfied if the store has already been committed (marked as committed in the store buffer).</p>
</li>
</ul>
</div>
<table id="_CVA6_load_unit_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 24. <strong>load_unit module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>valid_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load unit input port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lsu_ctrl_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lsu_ctrl_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pop_ld_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load unit result is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trans_id_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load transaction ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.TRANS_ID_BITS-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>result_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ex_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load exception</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exception_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>translation_req_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request address translation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vaddr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Virtual address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>paddr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Physical address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.PLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ex_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Excepted which appears before load</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exception_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>page_offset_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[11:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>page_offset_matches_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>store_buffer_empty_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Store buffer is empty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit_tran_id_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.TRANS_ID_BITS-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>req_port_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data cache request out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dcache_req_o_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>req_port_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data cache request in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dcache_req_i_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dcache_wbuffer_not_ni_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Due to cv32a65x configuration, some ports are tied to a static value. These ports do not appear in the above table, they are listed below</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">As RVH = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>tinst_o</code> output is tied to 0</p>
</li>
<li>
<p><code>hs_ld_st_inst_o</code> output is tied to 0</p>
</li>
<li>
<p><code>hlvx_inst_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">For any HW configuration,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>dtlb_hit_i</code> input is tied to 1</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As MMUPresent = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>dtlb_ppn_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect5">
<h6 id="lsu_bypass">4.4.3.5.3. lsu_bypass</h6>
<div class="paragraph">
<p>TO BE COMPLETED</p>
</div>
<table id="_CVA6_lsu_bypass_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 25. <strong>lsu_bypass module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lsu_req_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lsu_ctrl_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lsu_req_valid_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pop_ld_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pop_st_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lsu_ctrl_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lsu_ctrl_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ready_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect4">
<h5 id="cvxif_fu">4.4.3.6. CVXIF_fu</h5>
<div class="paragraph">
<p>TO BE COMPLETED</p>
</div>
<table id="_CVA6_cvxif_fu_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 26. <strong>cvxif_fu module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fu_data_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FU data needed to execute instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fu_data_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x_valid_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CVXIF instruction is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x_ready_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CVXIF is ready</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x_off_instr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Offloaded instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[31:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x_trans_id_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CVXIF transaction ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.TRANS_ID_BITS-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x_exception_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CVXIF exception</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exception_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x_result_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CVXIF FU result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x_valid_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CVXIF result valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x_we_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CVXIF write enable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cvxif_req_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CVXIF request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cvxif_pkg::cvxif_req_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cvxif_resp_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CVXIF response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cvxif_pkg::cvxif_resp_t</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Due to cv32a65x configuration, some ports are tied to a static value. These ports do not appear in the above table, they are listed below</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">As PRIV = MachineOnly,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>priv_lvl_i</code> input is tied to MachineMode</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="CVA6_COMMIT_STAGE">4.5. COMMIT_STAGE Module</h3>
<div class="sect3">
<h4 id="commit_stage-description">4.5.1. Description</h4>
<div class="paragraph">
<p>The COMMIT_STAGE module implements the commit stage, which is the last
stage in the processor’s pipeline. For the instructions for which the
execution is completed, it updates the architectural state: writing CSR
registers, committing stores and writing back data to the register file.
The commit stage controls the stalling and the flushing of the
processor.</p>
</div>
<div class="paragraph">
<p>The commit stage also manages the exceptions. An exception can occur
during the first four pipeline stages (PCgen cannot generate an
exception) or happen in commit stage, coming from the CSR_REGFILE or
from an interrupt. Exceptions are precise: they are considered during
the commit only and associated with the related instruction.</p>
</div>
<div class="paragraph">
<p>The module is connected to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>TO BE COMPLETED</p>
</li>
</ul>
</div>
<table id="_CVA6_commit_stage_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 27. <strong>commit_stage module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>halt_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request to halt the core</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_dcache_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">request to flush dcache, also flush the pipeline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>exception_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exception_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit_instr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The instruction we want to commit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scoreboard_entry_t[CVA6Cfg.NrCommitPorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit_drop_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The instruction is cancelled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrCommitPorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit_ack_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Acknowledge that we are indeed committing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrCommitPorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit_macro_ack_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Acknowledge that we are indeed committing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR_REGFILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrCommitPorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>waddr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Register file write address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrCommitPorts-1:0][4:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>wdata_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Register file write data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrCommitPorts-1:0][CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>we_gpr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Register file write enable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrCommitPorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>we_fpr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Floating point register enable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISSUE_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrCommitPorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pc_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TO_BE_COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND_CSR_REGFILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>csr_op_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Decoded CSR operation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR_REGFILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fu_op</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>csr_wdata_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data to write to CSR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR_REGFILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>csr_rdata_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data to read from CSR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR_REGFILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>csr_exception_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exception or interrupt occurred in CSR stage (the same as commit)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR_REGFILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exception_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit_lsu_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commit the pending store</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit_lsu_ready_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commit buffer of LSU is ready</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit_tran_id_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction id of first commit port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.TRANS_ID_BITS-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>no_st_pending_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no store is pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit_csr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commit the pending CSR instruction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_commit_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request a pipeline flush</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Due to cv32a65x configuration, some ports are tied to a static value. These ports do not appear in the above table, they are listed below</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">As RVF = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>dirty_fp_state_o</code> output is tied to 0</p>
</li>
<li>
<p><code>csr_write_fflags_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As DebugEn = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>single_step_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As RVA = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>amo_resp_i</code> input is tied to 0</p>
</li>
<li>
<p><code>amo_valid_commit_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As FenceEn = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>fence_i_o</code> output is tied to 0</p>
</li>
<li>
<p><code>fence_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As RVS = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>sfence_vma_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As RVH = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>hfence_vvma_o</code> output is tied to 0</p>
</li>
<li>
<p><code>hfence_gvma_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="commit_stage-functionality">4.5.2. Functionality</h4>
<div class="paragraph">
<p>TO BE COMPLETED</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="CVA6_CONTROLLER">4.6. CONTROLLER Module</h3>
<div class="sect3">
<h4 id="controller-description">4.6.1. Description</h4>
<div class="paragraph">
<p>The CONTROLLER module implements &#8230;&#8203; TO BE COMPLETED</p>
</div>
<div class="paragraph">
<p>The module is connected to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>TO BE COMPLETED</p>
</li>
</ul>
</div>
<table id="_CVA6_controller_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 28. <strong>controller module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>set_pc_commit_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set PC om PC Gen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_if_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flush the IF stage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_unissued_instr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flush un-issued instructions of the scoreboard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_id_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flush ID stage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_ex_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flush EX stage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_bp_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flush branch predictors</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_icache_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flush ICache</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_dcache_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flush DCache</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_dcache_ack_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Acknowledge the whole DCache Flush</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>halt_csr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Halt request from CSR (WFI instruction)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR_REGFILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>halt_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Halt signal to commit stage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COMMIT_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>eret_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return from exception</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR_REGFILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ex_valid_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">We got an exception, flush the pipeline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resolved_branch_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">We got a resolved branch, check if we need to flush the front-end</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bp_resolve_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_csr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">We got an instruction which altered the CSR, flush the pipeline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR_REGFILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_commit_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flush request from commit stage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COMMIT_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Due to cv32a65x configuration, some ports are tied to a static value. These ports do not appear in the above table, they are listed below</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">As RVH = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>v_i</code> input is tied to 0</p>
</li>
<li>
<p><code>flush_tlb_vvma_o</code> output is tied to 0</p>
</li>
<li>
<p><code>flush_tlb_gvma_o</code> output is tied to 0</p>
</li>
<li>
<p><code>hfence_vvma_i</code> input is tied to 0</p>
</li>
<li>
<p><code>hfence_gvma_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As MMUPresent = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>flush_tlb_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As EnableAccelerator = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>halt_acc_i</code> input is tied to 0</p>
</li>
<li>
<p><code>flush_acc_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As DebugEn = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>set_debug_pc_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As FenceEn = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>fence_i_i</code> input is tied to 0</p>
</li>
<li>
<p><code>fence_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As RVS = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>sfence_vma_i</code> input is tied to 0</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="controller-functionality">4.6.2. Functionality</h4>
<div class="paragraph">
<p>TO BE COMPLETED</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="CVA6_CSR_REGFILE">4.7. CSR_REGFILE Module</h3>
<div class="sect3">
<h4 id="csr_regfile-description">4.7.1. Description</h4>
<div class="paragraph">
<p>The CSR_REGFILE module implements &#8230;&#8203; TO BE COMPLETED</p>
</div>
<div class="paragraph">
<p>The module is connected to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>TO BE COMPLETED</p>
</li>
</ul>
</div>
<table id="_CVA6_csr_regfile_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 29. <strong>csr_regfile module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>time_irq_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timer threw a interrupt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">send a flush request out when a CSR with a side effect changes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>halt_csr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">halt requested</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit_instr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction to be committed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scoreboard_entry_t[CVA6Cfg.NrCommitPorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit_ack_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commit acknowledged a instruction &#8594; increase instret CSR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COMMIT_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.NrCommitPorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boot_addr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address from which to start booting, mtvec is set to the same address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hart_id_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hart id in a multicore environment (reflected in a CSR)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ex_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">We&#8217;ve got an exception from the commit stage, take it</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COMMIT_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exception_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>csr_op_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operation to perform on the CSR file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COMMIT_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fu_op</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>csr_addr_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address of the register to read/write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[11:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>csr_wdata_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Write data in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COMMIT_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>csr_rdata_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read data out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COMMIT_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.XLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pc_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PC of instruction accessing the CSR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COMMIT_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>csr_exception_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">attempts to access a CSR without appropriate privilege</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COMMIT_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exception_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>epc_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Output the exception PC to PC Gen, the correct CSR (mepc, sepc) is set accordingly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>eret_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return from exception, set the PC of epc_o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trap_vector_base_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Output base of exception vector, correct CSR is output (mtvec, stvec)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[CVA6Cfg.VLEN-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>irq_ctrl_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">interrupt management to id stage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">irq_ctrl_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>irq_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">external interrupt in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic[1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ipi_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">inter processor interrupt &#8594; connected to machine mode sw</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>icache_en_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L1 ICache Enable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dcache_en_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L1 DCache Enable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACHE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rvfi_csr_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rvfi_probes_csr_t</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Due to cv32a65x configuration, some ports are tied to a static value. These ports do not appear in the above table, they are listed below</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">As RVF = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>dirty_fp_state_i</code> input is tied to 0</p>
</li>
<li>
<p><code>csr_write_fflags_i</code> input is tied to 0</p>
</li>
<li>
<p><code>fs_o</code> output is tied to 0</p>
</li>
<li>
<p><code>fflags_o</code> output is tied to 0</p>
</li>
<li>
<p><code>frm_o</code> output is tied to 0</p>
</li>
<li>
<p><code>fprec_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As EnableAccelerator = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>dirty_v_state_i</code> input is tied to 0</p>
</li>
<li>
<p><code>acc_fflags_ex_i</code> input is tied to 0</p>
</li>
<li>
<p><code>acc_fflags_ex_valid_i</code> input is tied to 0</p>
</li>
<li>
<p><code>acc_cons_en_o</code> output is tied to 0</p>
</li>
<li>
<p><code>pmpcfg_o</code> output is tied to 0</p>
</li>
<li>
<p><code>pmpaddr_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As PRIV = MachineOnly,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>priv_lvl_o</code> output is tied to MachineMode</p>
</li>
<li>
<p><code>ld_st_priv_lvl_o</code> output is tied to MAchineMode</p>
</li>
<li>
<p><code>tvm_o</code> output is tied to 0</p>
</li>
<li>
<p><code>tw_o</code> output is tied to 0</p>
</li>
<li>
<p><code>tsr_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As RVH = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>v_o</code> output is tied to 0</p>
</li>
<li>
<p><code>vfs_o</code> output is tied to 0</p>
</li>
<li>
<p><code>en_g_translation_o</code> output is tied to 0</p>
</li>
<li>
<p><code>en_ld_st_g_translation_o</code> output is tied to 0</p>
</li>
<li>
<p><code>ld_st_v_o</code> output is tied to 0</p>
</li>
<li>
<p><code>csr_hs_ld_st_inst_i</code> input is tied to 0</p>
</li>
<li>
<p><code>vs_sum_o</code> output is tied to 0</p>
</li>
<li>
<p><code>vmxr_o</code> output is tied to 0</p>
</li>
<li>
<p><code>vsatp_ppn_o</code> output is tied to 0</p>
</li>
<li>
<p><code>vs_asid_o</code> output is tied to 0</p>
</li>
<li>
<p><code>hgatp_ppn_o</code> output is tied to 0</p>
</li>
<li>
<p><code>vmid_o</code> output is tied to 0</p>
</li>
<li>
<p><code>vtw_o</code> output is tied to 0</p>
</li>
<li>
<p><code>hu_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As RVV = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>vs_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As RVS = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>en_translation_o</code> output is tied to 0</p>
</li>
<li>
<p><code>en_ld_st_translation_o</code> output is tied to 0</p>
</li>
<li>
<p><code>sum_o</code> output is tied to 0</p>
</li>
<li>
<p><code>mxr_o</code> output is tied to 0</p>
</li>
<li>
<p><code>satp_ppn_o</code> output is tied to 0</p>
</li>
<li>
<p><code>asid_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As DebugEn = False,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>debug_req_i</code> input is tied to 0</p>
</li>
<li>
<p><code>set_debug_pc_o</code> output is tied to 0</p>
</li>
<li>
<p><code>debug_mode_o</code> output is tied to 0</p>
</li>
<li>
<p><code>single_step_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">As PerfCounterEn = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>perf_addr_o</code> output is tied to 0</p>
</li>
<li>
<p><code>perf_data_o</code> output is tied to 0</p>
</li>
<li>
<p><code>perf_data_i</code> input is tied to 0</p>
</li>
<li>
<p><code>perf_we_o</code> output is tied to 0</p>
</li>
<li>
<p><code>mcountinhibit_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="csr_regfile-functionality">4.7.2. Functionality</h4>
<div class="paragraph">
<p>TO BE COMPLETED</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="CVA6_CACHES">4.8. CACHES Module</h3>
<div class="sect3">
<h4 id="caches-description">4.8.1. Description</h4>
<div class="paragraph">
<p>The CACHES module implements an instruction cache, a data cache and an
AXI adapter.</p>
</div>
<div class="paragraph">
<p>The module is connected to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>TO_BE_COMPLETED</p>
</li>
</ul>
</div>
<table id="_CVA6_cva6_hpdcache_subsystem_ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 30. <strong>cva6_hpdcache_subsystem module</strong> IO ports</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-left valign-top">IO</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">connexion</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clk_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsystem Clock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rst_ni</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous reset active low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>noc_req_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">noc request, can be AXI or OpenPiton</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">noc_req_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>noc_resp_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">noc response, can be AXI or OpenPiton</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBSYSTEM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">noc_resp_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>icache_en_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instruction cache enable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR_REGFILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>icache_flush_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flush the instruction cache</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>icache_areq_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Input address translation request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">icache_areq_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>icache_areq_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Output address translation request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">icache_arsp_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>icache_dreq_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Input data translation request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">icache_dreq_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>icache_dreq_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Output data translation request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRONTEND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">icache_drsp_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dcache_enable_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data cache enable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR_REGFILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dcache_flush_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data cache flush</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dcache_flush_ack_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flush acknowledge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dcache_amo_req_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AMO request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ariane_pkg::amo_req_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dcache_amo_resp_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AMO response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ariane_pkg::amo_resp_t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dcache_req_ports_i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data cache input request ports</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dcache_req_i_t[NumPorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dcache_req_ports_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data cache output request ports</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dcache_req_o_t[NumPorts-1:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>wbuffer_empty_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Write buffer status to know if empty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>wbuffer_not_ni_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Write buffer status to know if not non idempotent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_STAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logic</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Due to cv32a65x configuration, some ports are tied to a static value. These ports do not appear in the above table, they are listed below</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">As PerfCounterEn = 0,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>icache_miss_o</code> output is tied to 0</p>
</li>
<li>
<p><code>dcache_miss_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">For any HW configuration,</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>dcache_cmo_req_i</code> input is tied to 0</p>
</li>
<li>
<p><code>dcache_cmo_resp_o</code> output is tied to open</p>
</li>
<li>
<p><code>hwpf_base_set_i</code> input is tied to 0</p>
</li>
<li>
<p><code>hwpf_base_i</code> input is tied to 0</p>
</li>
<li>
<p><code>hwpf_base_o</code> output is tied to 0</p>
</li>
<li>
<p><code>hwpf_param_set_i</code> input is tied to 0</p>
</li>
<li>
<p><code>hwpf_param_i</code> input is tied to 0</p>
</li>
<li>
<p><code>hwpf_param_o</code> output is tied to 0</p>
</li>
<li>
<p><code>hwpf_throttle_set_i</code> input is tied to 0</p>
</li>
<li>
<p><code>hwpf_throttle_i</code> input is tied to 0</p>
</li>
<li>
<p><code>hwpf_throttle_o</code> output is tied to 0</p>
</li>
<li>
<p><code>hwpf_status_o</code> output is tied to 0</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="caches-functionality">4.8.2. Functionality</h4>
<div class="paragraph">
<p>TO BE COMPLETED</p>
</div>
</div>
<div class="sect3">
<h4 id="caches-submodules">4.8.3. Submodules</h4>
<div class="paragraph">
<p><span class="image"><img src="../images/caches.png" alt="CACHES submodules"></span></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="glossary">5. Glossary</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>ALU</strong>: Arithmetic/Logic Unit</p>
</li>
<li>
<p><strong>APU</strong>: Application Processing Unit</p>
</li>
<li>
<p><strong>ASIC</strong>: Application-Specific Integrated Circuit</p>
</li>
<li>
<p><strong>AXI</strong>: Advanced eXtensible Interface</p>
</li>
<li>
<p><strong>BHT</strong>: Branch History Table</p>
</li>
<li>
<p><strong>BTB</strong>: Branch Target Buffer</p>
</li>
<li>
<p><strong>Byte</strong>: 8-bit data item</p>
</li>
<li>
<p><strong>CPU</strong>: Central Processing Unit, processor</p>
</li>
<li>
<p><strong>CSR</strong>: Control and Status Register</p>
</li>
<li>
<p><strong>Custom extension</strong>: Non-Standard extension to the RISC-V base
instruction set (RISC-V Instruction Set Manual, Volume I: User-Level
ISA)</p>
</li>
<li>
<p><strong>CVA6</strong>: Core-V Application class processor with a 6 stage pipeline</p>
</li>
<li>
<p><strong>D$</strong>: Data Cache</p>
</li>
<li>
<p><strong>DPI</strong>: Direct Programming Interface</p>
</li>
<li>
<p><strong>EX</strong> or <strong>EXE</strong>: Instruction Execute</p>
</li>
<li>
<p><strong>FPGA</strong>: Field Programmable Gate Array</p>
</li>
<li>
<p><strong>FPU</strong>: Floating Point Unit</p>
</li>
<li>
<p><strong>Halfword</strong>: 16-bit data item</p>
</li>
<li>
<p><strong>Halfword aligned address</strong>: An address is halfword aligned if it is
divisible by 2</p>
</li>
<li>
<p><strong>I$</strong>: Instruction Cache</p>
</li>
<li>
<p><strong>ID</strong>: Instruction Decode</p>
</li>
<li>
<p><strong>IF</strong>: Instruction Fetch</p>
</li>
<li>
<p><strong>ISA</strong>: Instruction Set Architecture</p>
</li>
<li>
<p><strong>KGE</strong>: Kilo Gate Equivalents (NAND2)</p>
</li>
<li>
<p><strong>LSU</strong>: Load Store Unit</p>
</li>
<li>
<p><strong>M-Mode</strong>: Machine Mode (RISC-V Instruction Set Manual, Volume II:
Privileged Architecture)</p>
</li>
<li>
<p><strong>MMU</strong>: Memory Management Unit</p>
</li>
<li>
<p><strong>NC</strong>: Not Cacheable</p>
</li>
<li>
<p><strong>OBI</strong>: Open Bus Interface</p>
</li>
<li>
<p><strong>OoO</strong>: Out Of Order</p>
</li>
<li>
<p><strong>PC</strong>: Program Counter</p>
</li>
<li>
<p><strong>PMP</strong>: Physical memory protection (RISC-V Instruction Set Manual,
Volume II: Privileged Architecture)</p>
</li>
<li>
<p><strong>PTW</strong>: Page Table Walker</p>
</li>
<li>
<p><strong>PULP platform</strong>: Parallel Ultra Low Power Platform
(<a href="https://pulp-platform.org" class="bare">https://pulp-platform.org</a>)</p>
</li>
<li>
<p><strong>RAS</strong>: Return Address Stack</p>
</li>
<li>
<p><strong>RV32C</strong>: RISC-V Compressed (C extension)</p>
</li>
<li>
<p><strong>RV32F</strong>: RISC-V Floating Point (F extension)</p>
</li>
<li>
<p><strong>S-Mode</strong>: Supervisor Mode (RISC-V Instruction Set Manual, Volume II:
Privileged Architecture)</p>
</li>
<li>
<p><strong>SIMD</strong>: Single Instruction/Multiple Data</p>
</li>
<li>
<p><strong>Standard extension</strong>: Standard extension to the RISC-V base
instruction set (RISC-V Instruction Set Manual, Volume I: User-Level
ISA)</p>
</li>
<li>
<p><strong>TLB</strong>: Translation Lookaside Buffer</p>
</li>
<li>
<p><strong>U-Mode</strong>: User Mode (RISC-V Instruction Set Manual, Volume II:
Privileged Architecture)</p>
</li>
<li>
<p><strong>VLEN</strong>: Virtual address length</p>
</li>
<li>
<p><strong>WARL</strong>: Write Any Values, Reads Legal Values</p>
</li>
<li>
<p><strong>WB</strong>: Write Back of instruction results</p>
</li>
<li>
<p><strong>WLRL</strong>: Write/Read Only Legal Values</p>
</li>
<li>
<p><strong>Word</strong>: 32-bit data item</p>
</li>
<li>
<p><strong>Word aligned address</strong>: An address is word aligned if it is divisible
by 4</p>
</li>
<li>
<p><strong>WPRI</strong>: Reserved Writes Preserve Values, Reads Ignore Values</p>
</li>
<li>
<p><strong>XLEN</strong>: RISC-V processor data length</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-07-19 15:35:39 +0200
</div>
</div>
</body>
</html>